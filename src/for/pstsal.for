C
C SUBROUTINE PSTSAL
C $Log:   GXAFXT:[GOLS]PSTSAL.FOV  $
C  
C     Rev 1.0   17 Apr 1996 14:34:16   HXK
C  Release of Finland for X.25, Telephone Betting, Instant Pass Thru Phase 1
C  
C     Rev 1.0   21 Jan 1993 17:24:10   DAB
C  Initial Release
C  Based on Netherlands Bible, 12/92, and Comm 1/93 update
C  DEC Baseline
C
C ** Source - dwnsub.for **
C
C
C
C SUBROUTINE TO POST WINSEL SALES DATA TO GAME SALES TABLE.
C
C CALLING SEQUENCE:
C     CALL PSTSAL(TRABUF)
C INPUT
C     TRABUF - WAGER BODY
C OUTPUT
C     NONE
C
C
C=======OPTIONS /CHECK=NOOVERFLOW
	SUBROUTINE PSTSAL(TRABUF)
	IMPLICIT NONE
C
	INCLUDE 'INCLIB:SYSPARAM.DEF'
	INCLUDE 'INCLIB:SYSEXTRN.DEF'
	INCLUDE 'INCLIB:GLOBAL.DEF'
	INCLUDE 'INCLIB:DESTRA.DEF'
	INCLUDE 'INCLIB:CONCOM.DEF'
	INCLUDE 'INCLIB:DWNCOM.DEF'
	INTEGER*4 GTYP, GIND, STAT, I, POL, AMT
C
	GTYP=TRABUF(TGAMTYP)
	GIND=TRABUF(TGAMIND)
	STAT=TRABUF(TSTAT)
	IF(GTYP.NE.TNBR) RETURN
	IF(STAT.NE.GOOD.AND.STAT.NE.CASH.AND.STAT.NE.EXCH.AND.
     *	   STAT.NE.XCHD.AND.STAT.NE.XCSH.AND.STAT.NE.CLAM.AND.
     *     STAT.NE.XCLM) RETURN
	IF(.NOT.CARRYSCAN.AND.
     *     (STAT.EQ.EXCH.OR.STAT.EQ.XCSH.OR.STAT.EQ.XCLM)) RETURN
C
C
	IF(GTYP.EQ.TNBR) THEN
	  IF(TRABUF(TWNAND).NE.0) THEN
	    IF(TRABUF(TWBEG).NE.LNBDRW(GIND).AND.
     *         TRABUF(TWEND).NE.LNBDRW(GIND)) RETURN
	  ELSE
	    IF(TRABUF(TWBEG).GT.LNBDRW(GIND)) RETURN
	    IF(TRABUF(TWEND).LT.LNBDRW(GIND)) RETURN
	  ENDIF
	  DO 10 I=0,TRABUF(TWNBET)-1
	  POL=TRABUF(TWNPOL1+I*3)
	  AMT=TRABUF(TWNAMT1+I*3)
	  LNBSAL(TRACNT,POL,GIND)=LNBSAL(TRACNT,POL,GIND)+1
	  LNBSAL(DOLAMT,POL,GIND)=LNBSAL(DOLAMT,POL,GIND)+AMT
10	  CONTINUE
	ENDIF
	RETURN
	END
