C
C SUBROUTINE BLDODS
C $Log:   GXAFXT:[GOLS]BLDODS.FOV  $
C  
C     Rev 1.0   17 Apr 1996 12:19:06   HXK
C  Release of Finland for X.25, Telephone Betting, Instant Pass Thru Phase 1
C  
C     Rev 1.0   21 Jan 1993 15:44:12   DAB
C  Initial Release
C  Based on Netherlands Bible, 12/92, and Comm 1/93 update
C  DEC Baseline
C
C ** Source - unspro.for **
C
C
C
C
C BLDODS
C
C V02 30-APR-92 GCAN CHANGED CALLING SEQUENCE TO CALODD.
C V01 03-DEC-91 GCAN INTIAL RELEASE FOR THE NETHERLANDS
C
C SUBROUTINE TO BUILD ODDS MESSAGE FOR ALL SCORE AND WINNERS TIP GAMES
C TO SEND BACK TO A TERMINAL ON REQUEST.
C
C=======OPTIONS /CHECK=NOOVERFLOW
	SUBROUTINE BLDODS(TRABUF,OUTLEN,MESTAB)
C
	IMPLICIT NONE
C
	INCLUDE 'INCLIB:SYSPARAM.DEF'
	INCLUDE 'INCLIB:SYSEXTRN.DEF'
C
	INCLUDE 'INCLIB:GLOBAL.DEF'
	INCLUDE 'INCLIB:CONCOM.DEF'
	INCLUDE 'INCLIB:DESTRA.DEF'
C
	BYTE	    MESTAB(*)			!Output Table
C
	INTEGER*2   OUTLEN			!Message Length (incl. Control).
C
	INTEGER*4   GNUM			!Game Number
	INTEGER*4   GTYP			!Game Type
	INTEGER*4   GIND			!Game Index
C
	LOGICAL	    ALLFLG			!Send ALL Odds!
C
C SET / CLEAR VARIABLES
C
	ALLFLG = .TRUE.
C
C GET GAME TYPE AND GAME INDEX TO BUILD ODDS MESSAGE FOR.
C
	GTYP = ZEXT(MESTAB(5))
	GIND = IAND(GTYP,15)
	GTYP = ISHFT(GTYP,-4)
	GNUM = GTNTAB(GTYP,GIND)
C 
	IF(GTYP.LT.1.OR.GTYP.GT.MAXTYP) TRABUF(TERR) = SYNT
	IF(GIND.LT.1.OR.GIND.GT.MAXIND) TRABUF(TERR) = SYNT
	IF(DAYDRW(GNUM).LT.1)           TRABUF(TERR) = SYNT
C
	IF(TRABUF(TERR).NE.NOER)	RETURN
C
	TRABUF(TGAMTYP) = GTYP
	TRABUF(TGAMIND) = GIND
	CALL CALODD(TRABUF,MESTAB,OUTLEN,ALLFLG)
C
100	CONTINUE
C
	RETURN
	END
