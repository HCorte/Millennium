C
C+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
C This item is the property of GTECH Corporation, Providence, Rhode
C Island, and contains confidential and trade secret information. It
C may not be transferred from the custody or control of GTECH except
C as authorized in writing by an officer of GTECH. Neither this item
C nor the information it contains may be used, transferred,
C reproduced, published, or disclosed, in whole or in part, and
C directly or indirectly, except as expressly authorized by an
C officer of GTECH, pursuant to written agreement.
C
C Copyright 2000 GTECH Corporation. All rights reserved.
C+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
C
	SUBROUTINE SETFILES()
	IMPLICIT NONE
	INCLUDE 'INCLIB:SYSDEFINE.DEF'
	INCLUDE 'INCLIB:MSGCOM.DEF'
	INCLUDE 'INCLIB:CONCOM.DEF'
	INCLUDE 'INCLIB:RECSCF.DEF'
	INCLUDE 'INCLIB:RECDAF.DEF'
        INCLUDE 'INCLIB:PRMAGT.DEF'
        INCLUDE 'INCLIB:AGTINF.DEF'
        INCLUDE 'INCLIB:RECAGT.DEF'
	INCLUDE 'INCLIB:CLERK.DEF'
	INCLUDE 'INCLIB:BALANS.DEF'
	INCLUDE 'INCLIB:RECTKM.DEF'
	INCLUDE 'INCLIB:RECSTF.DEF'
	INCLUDE 'INCLIB:RECREP.DEF'
	INCLUDE 'INCLIB:RECRDF.DEF'
	INCLUDE 'INCLIB:RECPRM.DEF'
	INCLUDE 'INCLIB:DESTRA.DEF'

	COMMON /SCF/ SCFREC
	INTEGER*4 ST,SECTORS
	INTEGER*4  RECSIZE        ! for RETRY.FIL
        PARAMETER (RECSIZE=2048)
C
C VARIABLES TO CREATE TEMPORAL FILES
C
        INTEGER * 4 CNTFIL           ! COUNTER FILES
        INTEGER * 4 INTFILNAME(5)    ! FILE NAME INTEGER FORMAT
        INTEGER * 4 MAXTMPFIL        ! MAXIMUN NUMBER OF TEMPORAL FILES
C
        CHARACTER * 20 TXTFILNAME    ! FILE NAME CHARACTER FORMAT
C
        REAL * 8 TSKOPFILES / 'CTOPSFIL' /  ! TASK TO CREATE OPS FILES
C
C EQUIVALENCE AND PARAMETERS DEFINITIONS TO CREATER TEMPORAL FILES
C
        EQUIVALENCE(INTFILNAME, TXTFILNAME)  ! EQUIVALENCE
        PARAMETER(MAXTMPFIL = 8)             ! MAXIMUN NUMBER OF TEMPORAL FILES
C
C DAF.FIL
C
	CALL FASTMOV(%REF('FILE:DAF.FIL         '),SCFSFN(1,DAF),5)
	SECTORS = (DAFSEC/2)*4000 ! CREATE IT FOR 4000 CDCs
	SCFFSZ(DAF) = SECTORS
	CALL CRTFIL(SCFSFN(1,DAF),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C ASF.FIL
C
	CALL FASTMOV(%REF('FILE:ASF.FIL         '),SCFSFN(1,ASF),5)
	SECTORS = (ASFSEC/2)*NUMAGT 
	SCFFSZ(ASF) = SECTORS
	CALL CRTFIL(SCFSFN(1,ASF),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C SMF.FIL
C
	CALL FASTMOV(%REF('SYSX:SMF.FIL         '),SCFSFN(1,SMF),5)
	SECTORS = (%LOC(LAST_MSGCOM)-%LOC(FRST_MSGCOM)+4+511)/512
	SCFFSZ(SMF) = SECTORS
	CALL CRTFIL(SCFSFN(1,SMF),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C MTMF01.FIL
C
	CALL FASTMOV(%REF('PRIM:MTMF01.FIL      '),SCFSFN(1,PTMF),5)
	SECTORS = 100000
	SCFFSZ(PTMF) = SECTORS
	CALL CRTFIL(SCFSFN(1,PTMF),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C BTMF01.FIL
C
	CALL FASTMOV(%REF('BACK:BTMF01.FIL      '),SCFSFN(1,BTMF),5)
	SECTORS = 100000
	SCFFSZ(BTMF) = SECTORS
	CALL CRTFIL(SCFSFN(1,BTMF),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C DAILY CARRYOVER
C
	CALL FASTMOV(%REF('FILE:DCF.FIL         '),SCFSFN(1,DCF),5)
	SECTORS = 5000
	SCFFSZ(DCF) = SECTORS
	CALL CRTFIL(SCFSFN(1,DCF),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C VLF.FIL
C
	CALL FASTMOV(%REF('VALX:VLF.FIL         '),SCFSFN(1,VLF),5)
	SECTORS = 20000
	SCFFSZ(VLF) = SECTORS
	CALL CRTFIL(SCFSFN(1,VLF),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C VLC.FIL
C
	CALL FASTMOV(%REF('VALX:VLC.FIL         '),SCFSFN(1,VLC),5)
	SECTORS = 20000
	SCFFSZ(VLC) = SECTORS
	CALL CRTFIL(SCFSFN(1,VLC),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C VLF.OLD
C
	SECTORS = 20000
	CALL CRTFIL(%REF('VALX:VLF.OLD         '),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C VLW.FIL
C
	CALL FASTMOV(%REF('WORK:VLW.FIL         '),SCFSFN(1,VLW),5)
	SECTORS = 20000
	SCFFSZ(VLW) = SECTORS
	CALL CRTFIL(SCFSFN(1,VLW),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C VLWxx.FIL
C
        DO CNTFIL = 1, MAXTMPFIL
          WRITE(TXTFILNAME, 100), 'VLW', CNTFIL
          SECTORS = 20000
          CALL CRTFIL(INTFILNAME, SECTORS, ST)
          IF(ST .NE. 0) CALL GPAUSE 
        ENDDO
C
C TCF.FIL
C
	CALL FASTMOV(%REF('CARX:TCF.FIL         '),SCFSFN(1,TCF),5)
	SECTORS = 20000
	SCFFSZ(TCF) = SECTORS
	CALL CRTFIL(SCFSFN(1,TCF),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C TCC.FIL
C
	CALL FASTMOV(%REF('CARX:TCC.FIL         '),SCFSFN(1,TCC),5)
	SECTORS = 20000
	SCFFSZ(TCC) = SECTORS
	CALL CRTFIL(SCFSFN(1,TCC),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C TCF.OLD
C
	SECTORS = 20000
	CALL CRTFIL(%REF('CARX:TCF.OLD         '),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C TCW.FIL
C
	CALL FASTMOV(%REF('WORK:TCW.FIL         '),SCFSFN(1,TCW),5)
	SECTORS = 20000
	SCFFSZ(TCW) = SECTORS
	CALL CRTFIL(SCFSFN(1,TCW),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C TCWxx.FIL
C
        DO CNTFIL = 1, MAXTMPFIL
          WRITE(TXTFILNAME, 100), 'TCW', CNTFIL
          SECTORS = 20000
          CALL CRTFIL(INTFILNAME, SECTORS, ST)
          IF(ST .NE. 0) CALL GPAUSE 
        ENDDO
C
C CHK0.FIL
C
	CALL FASTMOV(%REF('WORK:CHK0.FIL        '),SCFSFN(1,CP0),5)
	SECTORS = 152000
	SCFFSZ(CP0) = SECTORS
	CALL CRTFIL(SCFSFN(1,CP0),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C CHK1.FIL & CHK3.FIL
C
	SECTORS = 70000
	CALL FASTMOV(%REF('WORK:CHK1.FIL        '),SCFSFN(1,CP1),5)
	CALL FASTMOV(%REF('WORK:CHK3.FIL        '),SCFSFN(1,CP3),5)
	SCFFSZ(CP1) = SECTORS
	SCFFSZ(CP3) = SECTORS

	CALL CRTFIL(SCFSFN(1,CP1),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
	CALL CRTFIL(SCFSFN(1,CP3),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C CHK2.FIL & CHK4.FIL
C
	SECTORS = 82700
	CALL FASTMOV(%REF('WORK:CHK2.FIL        '),SCFSFN(1,CP2),5)
	CALL FASTMOV(%REF('WORK:CHK4.FIL        '),SCFSFN(1,CP4),5)
	SCFFSZ(CP2) = SECTORS
	SCFFSZ(CP4) = SECTORS

	CALL CRTFIL(SCFSFN(1,CP2),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
	CALL CRTFIL(SCFSFN(1,CP4),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C LTOPOOL.FIL
C
	CALL FASTMOV(%REF('FILE:LTOPOOL.FIL     '),SCFSFN(1,LPR),5)
	SECTORS = 78800 
	SCFFSZ(LPR) = SECTORS
	CALL CRTFIL(SCFSFN(1,LPR),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C SPTSYS.FIL
C
	CALL FASTMOV(%REF('FILE:SPTSYS.FIL      '),SCFSFN(1,SSF),5)
	SECTORS = 1200
	SCFFSZ(SSF) = SECTORS
	CALL CRTFIL(SCFSFN(1,SSF),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C TGLSYS.FIL
C
        CALL FASTMOV(%REF('FILE:TGLSYS.FIL      '),SCFSFN(1,TGSF),5)
        SECTORS = 1200
        SCFFSZ(TGSF) = SECTORS
        CALL CRTFIL(SCFSFN(1,TGSF),SECTORS,ST)
        IF(ST.NE.0) CALL GPAUSE
C
C LTOSYS.FIL 
C
	CALL FASTMOV(%REF('FILE:LTOSYS.FIL      '),SCFSFN(1,LSF),5)
	SECTORS = 2500  
	SCFFSZ(LSF) = SECTORS
	CALL CRTFIL(SCFSFN(1,LSF),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C POOL1.FIL  
C
	CALL FASTMOV(%REF('FILE:POOL1.FIL       '),SCFSFN(1,LP1),5)
	SECTORS = 83000
	SCFFSZ(LP1) = SECTORS
	CALL CRTFIL(SCFSFN(1,LP1),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C POOLOVR1.FIL
C
	CALL FASTMOV(%REF('FILE:POOLOVR1.FIL    '),SCFSFN(1,LO1),5)
	SECTORS = 30000
	SCFFSZ(LO1) = SECTORS
	CALL CRTFIL(SCFSFN(1,LO1),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C CPURGE.FIL 
C
	CALL FASTMOV(%REF('WORK:CPURGE.FIL      '),SCFSFN(1,CTP),5)
	SECTORS = 80000 
	SCFFSZ(CTP) = SECTORS
	CALL CRTFIL(SCFSFN(1,CTP),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C UPURGE.FIL 
C
	CALL FASTMOV(%REF('WORK:UPURGE.FIL      '),SCFSFN(1,UTP),5)
	SECTORS = 30000 
	SCFFSZ(UTP) = SECTORS
	CALL CRTFIL(SCFSFN(1,UTP),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C CLERK.FIL  
C
	CALL FASTMOV(%REF('WORK:CLERK.FIL       '),SCFSFN(1,CLK),5)
	SECTORS = CLRKSEC*NUMAGT/2
	SCFFSZ(CLK) = SECTORS
	CALL CRTFIL(SCFSFN(1,CLK),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C REP.FIL    
C
	CALL FASTMOV(%REF('FILE:REP.FIL         '),SCFSFN(1,REP),5)
	SECTORS = REPSEC/2
	SCFFSZ(REP) = SECTORS
	CALL CRTFIL(SCFSFN(1,REP),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C SET FILE NAMES FOR X2X  
C
	CALL FASTMOV(%REF('FILE:X2XLOG.FIL      '),SCFSFN(1,X2F),5)
	CALL FASTMOV(%REF('FILE:X2XGBL.FIL      '),SCFSFN(1,XGBL),5)
	CALL FASTMOV(%REF('FILE:X2XNPC.FIL      '),SCFSFN(1,XNPC),5)
	CALL FASTMOV(%REF('FILE:X2XLPC.FIL      '),SCFSFN(1,XLPC),5)
	CALL FASTMOV(%REF('FILE:X2XSPC.FIL      '),SCFSFN(1,XSPC),5)
	CALL FASTMOV(%REF('FILE:X2XRCD.FIL      '),SCFSFN(1,XRCD),5)
	CALL FASTMOV(%REF('FILE:X2XRCL.FIL      '),SCFSFN(1,XRCL),5)
	CALL FASTMOV(%REF('FILE:X2XSCL.FIL      '),SCFSFN(1,XSCL),5)
	CALL FASTMOV(%REF('FILE:X2XSTN.FIL      '),SCFSFN(1,XSTN),5)
	CALL FASTMOV(%REF('FILE:X2XTER.FIL      '),SCFSFN(1,XTER),5)
	CALL FASTMOV(%REF('FILE:X2XBLD.FIL      '),SCFSFN(1,XBLD),5)
	CALL FASTMOV(%REF('FILE:X2XBRO.FIL      '),SCFSFN(1,XBRO),5)
	CALL FASTMOV(%REF('FILE:X2XGRP.FIL      '),SCFSFN(1,XGRP),5)
	CALL FASTMOV(%REF('FILE:X2XTTN.FIL      '),SCFSFN(1,XTTN),5)
C
C Create X2XRWAIT%%.FIL files.
C
	SECTORS = 100
        CALL CRTFIL(%REF( 'SYSX:X2XRWAIT07.FIL  '),SECTORS,ST)
        IF(ST.NE.0) CALL GPAUSE
        CALL CRTFIL(%REF( 'SYSX:X2XRWAIT08.FIL  '),SECTORS,ST)
        IF(ST.NE.0) CALL GPAUSE
        CALL CRTFIL(%REF( 'SYSX:X2XRWAIT09.FIL  '),SECTORS,ST)
        IF(ST.NE.0) CALL GPAUSE
        CALL CRTFIL(%REF( 'SYSX:X2XRWAIT10.FIL  '),SECTORS,ST)
        IF(ST.NE.0) CALL GPAUSE
        CALL CRTFIL(%REF( 'SYSX:X2XRWAIT11.FIL  '),SECTORS,ST)
        IF(ST.NE.0) CALL GPAUSE
C
C MKTMES.FIL
C
	CALL FASTMOV(%REF('FILE:MKTMES.FIL      '),SCFSFN(1,TKTM),5)
	SECTORS = TKMSEC/2
	SCFFSZ(TKTM) = SECTORS
	CALL CRTFIL(SCFSFN(1,TKTM),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C ELOG FILE NAME 
C
	CALL FASTMOV(%REF('FILE:ELOG.FIL        '),SCFSFN(1,ERLG),5)
C
C PROMO.FIL
C
	CALL FASTMOV(%REF('FILE:PROMO.FIL       '),SCFSFN(1,PRMO),5)
	SECTORS = PRMSEC/2
	SCFFSZ(PRMO) = SECTORS
	CALL CRTFIL(SCFSFN(1,PRMO),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C DASF.FIL
C
	CALL FASTMOV(%REF('FILE:DASF.FIL        '),SCFSFN(1,DAG),5)
	SECTORS = ASFSEC*1000/2 ! 1000 DELETED AGENTS ??
	SCFFSZ(DAG) = SECTORS
	CALL CRTFIL(SCFSFN(1,DAG),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C RWF.FIL   
C
	CALL FASTMOV(%REF('FILE:RWF.FIL         '),SCFSFN(1,RDF),5)
	SECTORS = RDFSEC/2
	SCFFSZ(RDF) = SECTORS
	CALL CRTFIL(SCFSFN(1,RDF),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C STATS.FIL 
C
	CALL FASTMOV(%REF('FILE:STATS.FIL       '),SCFSFN(1,STF),5)
	SECTORS = STFSEC/2
	SCFFSZ(STF) = SECTORS
	CALL CRTFIL(SCFSFN(1,STF),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C BALANS.FIL
C
	CALL FASTMOV(%REF('FILE:BALANS.FIL      '),SCFSFN(1,BAL),5)
	SECTORS = BALSEC/2  
	SCFFSZ(BAL) = SECTORS
	CALL CRTFIL(SCFSFN(1,BAL),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C CASH.FIL  
C
	CALL FASTMOV(%REF('FILE:CASH.FIL        '),SCFSFN(1,CASHFIL),5)
	SECTORS = 20000
	SCFFSZ(CASHFIL) = SECTORS
	CALL CRTFIL(SCFSFN(1,CASHFIL),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C RETRY.FIL
C
	SECTORS = ((((NUMAGT*TRALEN)/RECSIZE)+1)*RECSIZE*4)/512
	CALL CRTFIL(%REF('FILE:RETRY.FIL       '),SECTORS,ST)
	IF(ST.NE.0) CALL GPAUSE
C
C PPF.FIL
C
        CALL FASTMOV(%REF('FILE:PPF.FIL        '),SCFSFN(1,PPF),5)
        SECTORS = 2100
        SCFFSZ(PPF) = SECTORS
        CALL CRTFIL(SCFSFN(1,PPF),SECTORS,ST)
        IF(ST.NE.0) CALL GPAUSE
C
C VPW.FIL ( ONLY DEFINE FILE, DO NOT CREATE, WINPAS TASK CREATE IT )
C
        CALL FASTMOV(%REF('WORK:VPW.FIL        '),SCFSFN(1,VPW),5)
        SCFFSZ(VPW) = 0
C
C VPF******.FIL ( ONLY DEFINE FILE, DO NOT CREATE )
C
        CALL FASTMOV(%REF('WORK:VPF******.FIL  '),SCFSFN(1,VPF),5)
        SCFFSZ(VPF) = 0
C
C TPF******.FIL ( ONLY DEFINE FILE, DO NOT CREATE )
C
        CALL FASTMOV(%REF('WORK:TPF******.FIL  '),SCFSFN(1,TPF),5)
        SCFFSZ(TPF) = 0
C
C CREATE NEW FILES ASSOCIATED TO OP'S TO PORTUGAL BASELINE
C
        CALL NRUNTSK(TSKOPFILES)
C
C USE TRABUF VARIBLE TO DISABLE WARNING DURING COMPILATION
C
        TRABUF(1) = 0
C
C FORMATS DEFINITIONS
C
100     FORMAT('WORK:', A3, I2.2, '.FIL', 6(' '))
C
C END OF FILE
C
	END
