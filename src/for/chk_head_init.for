C
C SUBROUTINE CHK_HEAD_INIT
C $Log:   GXAFXT:[GOLS]CHK_HEAD_INIT.FOV  $
C  
C     Rev 1.0   17 Apr 1996 12:34:36   HXK
C  Release of Finland for X.25, Telephone Betting, Instant Pass Thru Phase 1
C  
C     Rev 1.0   21 Jan 1993 15:52:00   DAB
C  Initial Release
C  Based on Netherlands Bible, 12/92, and Comm 1/93 update
C  DEC Baseline
C
C ** Source - reset_wstn.for **
C
C+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
C SUBROUTINE CHK_HEAD_INIT(LOGICAL_UNIT)
C
C V08
C
C	INITIALIZES CHECKPOINT HEADERS FOR CHECKPOINTS 1,2,3,4
C	SINCE CHECKPOINT 0 IS WRITTEN AFTER REPROCESSING
C	IT DOES NOT HAVE TO BE INITIALIZED. THIS GIVES THE USER
C	'LAST CHANCE' TO ABORT REPROCESSING AND TO USE CHECKPOINT 0.
C	IN ANY CASE IT IS EASY TO INVALIDATE THE CHECKPOINT 0 IF NEEDED.
C
C---------------------------------------------------------------------------
C
C=======OPTIONS /CHECK=NOOVERFLOW
	SUBROUTINE CHK_HEAD_INIT(LOGICAL_UNIT)
	IMPLICIT NONE
C
	INCLUDE 'INCLIB:SYSPARAM.DEF'
	INCLUDE 'INCLIB:SYSEXTRN.DEF'
	INCLUDE 'INCLIB:GLOBAL.DEF'
	INCLUDE 'INCLIB:CHKPNT.DEF'
        INCLUDE 'INCLIB:CONCOM.DEF'
C
	INTEGER*4   LOGICAL_UNIT
C
        INTEGER*4 FDB(7),CFILES(1:4), ST
        DATA CFILES/CP1,CP2,CP3,CP4/
C
	INTEGER*4   FILE, SFIL
	DO 100 FILE=1,4
C
C 	  OPEN CHECKPOINT FILE 
C
	  SFIL=CFILES(FILE)
          CALL OPENQW(LOGICAL_UNIT,SFNAMES(1,SFIL),4,0,0,ST)
	  CALL IOQINIT(FDB,LOGICAL_UNIT,CHKSEC*256)
	  IF(ST.NE.0) THEN
      	      CALL FILERR(SFNAMES(1,SFIL),1,ST,0)
	      GOTO 100
	  ENDIF
C
C	  WRITE OUT HEADER TO CHECKPOINT FILE
C	  NOTE THAT THE CHKPNTDAY IS SET TO 0 WHICH MEANS
C	  THE TRANSFER IS IN PROGRESS
C
	  CHKHEADER(CHKPNTDAY)=0
	  CALL WRITEQW(FDB,1,CHKHEADER,ST)
	  IF(ST.NE.0)THEN
      	      CALL FILERR(SFNAMES(1,SFIL),3,ST,1)
      	  ENDIF
	  CALL CLOSEQFIL(FDB)
100	CONTINUE
C
	RETURN
	END
