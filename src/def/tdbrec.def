C TDBREC.DEF
C
C V05 18-MAY-1999 UXN TDBCMB added.
C V04 28-NOV-1995 HXK Batch of changes for Double/Couple release
C V03 10-NOV-1995 HXK Further changes for Double, Couple
C V02 07-NOV-1995 HXK Changes for Double, Couple install
C V01 06-NOV-1995 PXB Initial revision.
C
C SUPER DOUBLE GAME DATA FILE RECORD LAYOUT (DISK)
C
C
C     TDBSTS                         ; GAME STATUS
C     TDBWEK                         ; WEEK NUMBER
C     TDBDAT                         ; DRAW DATE
C     TDBDRW                         ; DRAW NUMBER
C     TDBBSD                         ; BEGINNING SALES DATE
C     TDBESD                         ; ENDING SALES DATE
C     TDBPUP                         ; LAST PRUGE UPDATE  (FILE ONLY)
C     TDBUPD                         ; LAST FILE UPDATE   (FILE ONLY)
C     TDBCTM                         ; ACTUAL TIME WHEN CLOSED
C     TDBTIM                         ; TIME WHEN GAME SHOULD CLOSE
C     TDBSER                         ; LAST SERIAL NUMBER
C     TDBSAL(NUMTOT)                 ; TOTAL SALES (COUNT , AMOUNT)
C     TDBPAD                         ; PRIZES PAID + REFUNDS
C     TDBPRG                         ; PRIZES PURGED
C     TDBPRF                         ; PAID REFUNDS
C     TDBREF                         ; TOTAL REFUND AMOUNT
C     TDBERF                         ; EARLY REFUNDS PAID
C     TDBTER                         ; TOTAL EARLY REFUNDS (LIAB)
C     TDBWON                         ; PRIZES WON
C     TDBPOL(2)                      ; ROLL POOL
C     TDBTPL                         ; TOTAL PRIZE POOL
C     TDBTBK                         ; TOTAL BREAKAGE
C     TDBBRK(2)                      ; WINNING ROUNDING POT
C     TDBABW                         ; AMOUNT BET ON WINNING SCORE
C     TDBODS(MAXDBLTI)               ; WINNING ODDS
C     TDBWIN(2,MAXDBLTI)             ; WINNING RESULTS
C     TDBHLD(2,MAXDBLTI)             ; WINNING RESULTS HOLD
C     TDBTAX                         ; WINNING TAXES
C     TDBOTX(NUMTOT)                 ; OVER TAX LIMIT
C     TDBMID(NUMTOT)                 ; >REDMIN <REDMAX
C     TDBUTX(NUMTOT)                 ; UNDER TAX LIMIT
C     TDBHST(MAXDBLTI)               ; HIGHEST WINNER PER WINING COMB
C     TDBORM(NUMTOT)                 ; OVER REDMAX
C     TDBENM(DBLENM_LEN/4)           ; EVENT NAME
C     TDBDES(DBLDES_LEN/4)           ; GAME DESCRIPTION
C     TDBNMS(DBLNMS_LEN/4,MAXDBLRW)  ; ROW NAMES
C     TDBSTA(MAXDBLRW)               ; ROW STATUS 1 THROUGH MAXTRW
C     TDBSBR(MAXDBLRW)               ; SALES BY ROW TABLE
C     TDBREV                         ; REV #
C     TDBPFN(5)                      ; POOL FILE NAME
C     TDBRTM(MAXDBLRW)               ; ROW CLOSE TIMES
C     TDBPRC                         ; BASE PRICE
C     TDBSPR                         ; POOL PERCENTAGE
C     TDBTVC(DBLTVC_LEN/4)    	     ; TV-CHANEL NAME
C     TDBMDS(MAXMLTD_AVL)	     ; MULTI DRAW SELECTED TABLE
C                                      (52 BYTE / 4 = 13)
C     TDBRWS			     ; ACTUAL # OF ROWS USED.
C     TDBWCP(MAXDBLTI)		     ; # WINNING COUPONS PALYED.
C     TDBWBT(NUMTOT,MAXDBLTI)        ; CNT, AMT PLAYED.
C     TDBWRO(NUMTOT,2)               ; WINNING: COUNT,AMOUNT REFUNDS ONLY
C     TDBWRA(NUMTOT,2)               ; WINNING: COUNT,AMOUNT REFUNDS ALTOGETHER
C     TDBWPO(NUMTOT,2)               ; WINNING: COUNT,AMOUNT PRIZES ONLY
C     TDBWPA(NUMTOT,2)               ; WINNING: COUNT,AMOUNT PRIZES ALTOGETHER
C     TDBWPR(NUMTOT,2)               ; WINNING: COUNT,AMOUNT PRIZES AND REFUNDS
C                                    ; (1=PRWON,2=PRPAD)
C     TDBODT(MAXDBLRW*MAXDBLRW)      ; TABLE FOR AMOUNTS ON COMBNS. FOR ODDS
C     TDBPCC			     ; Partially closed combination
C                                    ; IF combination 17/18 is not allowed
C                                    ; to play then TDBPCC is set to 1,
C                                    ; otherwise it is 0. 
C     TDBCMB                         ; NUMBER OF WINNING COMBINATIONS
C     TDBFRS(98)		     ; FREE SPACE.
C
C DOUBLE GAME FILE PARAMETERS
C
C+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
C This item is the property of GTECH Corporation, Providence, Rhode
C Island, and contains confidential and trade secret information. It
C may not be transferred from the custody or control of GTECH except
C as authorized in writing by an officer of GTECH. Neither this item
C nor the information it contains may be used, transferred,
C reproduced, published, or disclosed, in whole or in part, and
C directly or indirectly, except as expressly authorized by an
C officer of GTECH, pursuant to written agreement.
C
C Copyright 1996 GTECH Corporation. All rights reserved.
C+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
C
C
	INTEGER*4 TDBSTS,TDBWEK,TDBDAT,TDBBSD,TDBESD,TDBCTM,TDBTIM
	INTEGER*4 TDBSAL(NUMTOT),TDBPAD,TDBPRG,TDBREF,TDBWON,TDBPOL(2)
        INTEGER*4 TDBTPL
	INTEGER*4 TDBTBK,TDBBRK(2),TDBABW
	INTEGER*4 TDBODS(MAXDBLTI),TDBWIN(2,MAXDBLTI)
	INTEGER*4 TDBTAX,TDBOTX(NUMTOT),TDBHLD(2,MAXDBLTI)
	INTEGER*4 TDBMID(NUMTOT),TDBUTX(NUMTOT)
	INTEGER*4 TDBHST(MAXDBLTI),TDBORM(2)
	INTEGER*4 TDBENM(DBLENM_LEN/4)
	INTEGER*4 TDBDES(DBLDES_LEN/4)
	INTEGER*4 TDBNMS(DBLNMS_LEN/4,MAXDBLRW)
	INTEGER*4 TDBREV,TDBPUP,TDBUPD,TDBSTA(MAXDBLRW)
	INTEGER*4 TDBSBR(MAXDBLRW),TDBPFN(5),TDBERF,TDBTER,TDBDRW
	INTEGER*4 TDBRTM(MAXDBLRW),TDBSER,TDBPRF,TDBSPR,TDBPRC
	INTEGER*4 TDBTVC(DBLTVC_LEN/4)

	BYTE	  TDBMDS(MAXMLTD_AVL)

	INTEGER*4 TDBRWS,TDBWCP(MAXDBLTI),TDBWBT(NUMTOT,MAXDBLTI)
        INTEGER*4 TDBWRO(NUMTOT,2),TDBWRA(NUMTOT,2),TDBWPO(NUMTOT,2)
        INTEGER*4 TDBWPA(NUMTOT,2),TDBWPR(NUMTOT,2)
        INTEGER*4 TDBODT(MAXDBLRW*MAXDBLRW)
	INTEGER*4 TDBPCC,TDBCMB
	INTEGER*4 TDBFRS(98)
C
C OFFSET PARAMETERS AND EQUIVALENCES
C
	INTEGER*4 TDBSTS_OFF, TDBWEK_OFF, TDBDAT_OFF, TDBDRW_OFF
	PARAMETER(TDBSTS_OFF = 1)					!001
	PARAMETER(TDBWEK_OFF = TDBSTS_OFF + 1)				!002
	PARAMETER(TDBDAT_OFF = TDBWEK_OFF + 1)				!003
	PARAMETER(TDBDRW_OFF = TDBDAT_OFF + 1)				!004

	INTEGER*4 TDBBSD_OFF, TDBESD_OFF, TDBPUP_OFF, TDBUPD_OFF
	PARAMETER(TDBBSD_OFF = TDBDRW_OFF + 1)				!005
	PARAMETER(TDBESD_OFF = TDBBSD_OFF + 1)				!006
	PARAMETER(TDBPUP_OFF = TDBESD_OFF + 1)				!007
	PARAMETER(TDBUPD_OFF = TDBPUP_OFF + 1)				!008

	INTEGER*4 TDBCTM_OFF, TDBTIM_OFF, TDBSER_OFF, TDBSAL_OFF
	PARAMETER(TDBCTM_OFF = TDBUPD_OFF + 1)				!009
	PARAMETER(TDBTIM_OFF = TDBCTM_OFF + 1)				!010
	PARAMETER(TDBSER_OFF = TDBTIM_OFF + 1)				!011
	PARAMETER(TDBSAL_OFF = TDBSER_OFF + 1)   			!012
C
	INTEGER*4 TDBPAD_OFF, TDBPRG_OFF, TDBPRF_OFF, TDBREF_OFF
	PARAMETER(TDBPAD_OFF = TDBSAL_OFF + NUMTOT)			!014
	PARAMETER(TDBPRG_OFF = TDBPAD_OFF + 1)				!015
	PARAMETER(TDBPRF_OFF = TDBPRG_OFF + 1)				!016
	PARAMETER(TDBREF_OFF = TDBPRF_OFF + 1)				!017
C
	INTEGER*4 TDBERF_OFF, TDBTER_OFF, TDBWON_OFF, TDBPOL_OFF
	PARAMETER(TDBERF_OFF = TDBREF_OFF + 1)				!018
	PARAMETER(TDBTER_OFF = TDBERF_OFF + 1)				!019
	PARAMETER(TDBWON_OFF = TDBTER_OFF + 1)				!020
	PARAMETER(TDBPOL_OFF = TDBWON_OFF + 1)				!021
C
	INTEGER*4 TDBTPL_OFF, TDBTBK_OFF, TDBBRK_OFF, TDBABW_OFF
	PARAMETER(TDBTPL_OFF = TDBPOL_OFF + 2)				!023
	PARAMETER(TDBTBK_OFF = TDBTPL_OFF + 1)				!024
	PARAMETER(TDBBRK_OFF = TDBTBK_OFF + 1)				!025
	PARAMETER(TDBABW_OFF = TDBBRK_OFF + 2)				!027
C
	INTEGER*4 TDBODS_OFF, TDBWIN_OFF, TDBHLD_OFF, TDBTAX_OFF
	PARAMETER(TDBODS_OFF = TDBABW_OFF + 1)				!028
	PARAMETER(TDBWIN_OFF = TDBODS_OFF + MAXDBLTI)				!040
	PARAMETER(TDBHLD_OFF = TDBWIN_OFF + 2*MAXDBLTI)			!052
	PARAMETER(TDBTAX_OFF = TDBHLD_OFF + 2*MAXDBLTI)			!076
C
	INTEGER*4 TDBOTX_OFF, TDBMID_OFF, TDBUTX_OFF, TDBHST_OFF
	PARAMETER(TDBOTX_OFF = TDBTAX_OFF + 1)				!077
	PARAMETER(TDBMID_OFF = TDBOTX_OFF + NUMTOT)			!079
	PARAMETER(TDBUTX_OFF = TDBMID_OFF + NUMTOT)			!081
	PARAMETER(TDBHST_OFF = TDBUTX_OFF + NUMTOT)			!083
C
	INTEGER*4 TDBORM_OFF, TDBENM_OFF, TDBDES_OFF, TDBNMS_OFF
	PARAMETER(TDBORM_OFF = TDBHST_OFF + MAXDBLTI)				!096
	PARAMETER(TDBENM_OFF = TDBORM_OFF + NUMTOT)			!098
	PARAMETER(TDBDES_OFF = TDBENM_OFF + (DBLENM_LEN/4))		!104
	PARAMETER(TDBNMS_OFF = TDBDES_OFF + (DBLDES_LEN/4))		!134
C
	INTEGER*4 TDBSTA_OFF, TDBSBR_OFF, TDBREV_OFF, TDBPFN_OFF
	PARAMETER(TDBSTA_OFF = TDBNMS_OFF + (DBLNMS_LEN/4)*MAXDBLRW)	!278
	PARAMETER(TDBSBR_OFF = TDBSTA_OFF + MAXDBLRW)			!314
	PARAMETER(TDBREV_OFF = TDBSBR_OFF + MAXDBLRW)			!350
	PARAMETER(TDBPFN_OFF = TDBREV_OFF + 1)				!351
C
	INTEGER*4 TDBRTM_OFF, TDBPRC_OFF, TDBSPR_OFF, TDBTVC_OFF
	PARAMETER(TDBRTM_OFF = TDBPFN_OFF + 5)				!356
	PARAMETER(TDBPRC_OFF = TDBRTM_OFF + MAXDBLRW)			!392
	PARAMETER(TDBSPR_OFF = TDBPRC_OFF + 1)				!393
	PARAMETER(TDBTVC_OFF = TDBSPR_OFF + 1)				!394 
C
	INTEGER*4 TDBMDS_OFF
	PARAMETER(TDBMDS_OFF = TDBTVC_OFF + (DBLTVC_LEN/4))		
C
        INTEGER*4 TDBWRO_OFF, TDBWRA_OFF, TDBWPO_OFF, TDBWPA_OFF
        INTEGER*4 TDBWPR_OFF, TDBRWS_OFF, TDBWCP_OFF, TDBODT_OFF
        INTEGER*4 TDBWBT_OFF
	PARAMETER(TDBRWS_OFF = TDBMDS_OFF + (MAXMLTD_AVL/4))
	PARAMETER(TDBWCP_OFF = TDBRWS_OFF + 1)
	PARAMETER(TDBWBT_OFF = TDBWCP_OFF + MAXDBLTI)
        PARAMETER(TDBWRO_OFF = TDBWBT_OFF + NUMTOT*MAXDBLTI)
        PARAMETER(TDBWRA_OFF = TDBWRO_OFF + 2*NUMTOT)
        PARAMETER(TDBWPO_OFF = TDBWRA_OFF + 2*NUMTOT)
        PARAMETER(TDBWPA_OFF = TDBWPO_OFF + 2*NUMTOT)
        PARAMETER(TDBWPR_OFF = TDBWPA_OFF + 2*NUMTOT) 
        PARAMETER(TDBODT_OFF = TDBWPR_OFF + 2*NUMTOT) 

	INTEGER*4 TDBPCC_OFF
	PARAMETER(TDBPCC_OFF = TDBODT_OFF + MAXDBLRW*MAXDBLRW)

	INTEGER*4 TDBCMB_OFF
	PARAMETER(TDBCMB_OFF = TDBPCC_OFF + 1)

	INTEGER*4 TDBFRS_OFF
	PARAMETER(TDBFRS_OFF = TDBCMB_OFF + 1)

	INTEGER*4 TDBFRE_OFF
	PARAMETER(TDBFRE_OFF = TDBFRS_OFF + 98)
C
C CALCULATE FREE SPACE BASED ON MACHINE DEPENDENT SECTOR SIZES.
C SHOULD ALLWAYS ADD UP TO A EVEN SECTOR SIZE BYTES (VAX 512).
C NOTE! IN CALCULATIONS, FRE_OFF-2 IS DONE TO TAKE CARE OF WHEN THE DATA SIZE
C       ENDS ON A EVEN SECTOR SIZE.
C
        INTEGER*4 TDBSEC_VAX, TDBSEC_NUM
        PARAMETER (TDBSEC_VAX = SECSIZE/4)
	PARAMETER (TDBSEC_NUM = NINT(FLOAT((TDBFRE_OFF-2)/TDBSEC_VAX)+.5))
C
        INTEGER*4 TDBLEN, TDBSEC
        PARAMETER(TDBLEN = TDBSEC_VAX * TDBSEC_NUM)        ! even sector size
        PARAMETER(TDBSEC = TDBLEN/64)
C
        INTEGER*4 TDBREC(TDBLEN)
C
	EQUIVALENCE(TDBSTS,TDBREC(TDBSTS_OFF))
	EQUIVALENCE(TDBWEK,TDBREC(TDBWEK_OFF))
	EQUIVALENCE(TDBDAT,TDBREC(TDBDAT_OFF))
	EQUIVALENCE(TDBDRW,TDBREC(TDBDRW_OFF))
	EQUIVALENCE(TDBBSD,TDBREC(TDBBSD_OFF))
	EQUIVALENCE(TDBESD,TDBREC(TDBESD_OFF))
	EQUIVALENCE(TDBPUP,TDBREC(TDBPUP_OFF))
	EQUIVALENCE(TDBUPD,TDBREC(TDBUPD_OFF))
	EQUIVALENCE(TDBCTM,TDBREC(TDBCTM_OFF))
	EQUIVALENCE(TDBTIM,TDBREC(TDBTIM_OFF))
	EQUIVALENCE(TDBSER,TDBREC(TDBSER_OFF))
	EQUIVALENCE(TDBSAL,TDBREC(TDBSAL_OFF))
	EQUIVALENCE(TDBPAD,TDBREC(TDBPAD_OFF))
	EQUIVALENCE(TDBPRG,TDBREC(TDBPRG_OFF))
	EQUIVALENCE(TDBPRF,TDBREC(TDBPRF_OFF))
	EQUIVALENCE(TDBREF,TDBREC(TDBREF_OFF))
	EQUIVALENCE(TDBERF,TDBREC(TDBERF_OFF))
	EQUIVALENCE(TDBTER,TDBREC(TDBTER_OFF))
	EQUIVALENCE(TDBWON,TDBREC(TDBWON_OFF))
	EQUIVALENCE(TDBPOL,TDBREC(TDBPOL_OFF))
	EQUIVALENCE(TDBTPL,TDBREC(TDBTPL_OFF))
	EQUIVALENCE(TDBTBK,TDBREC(TDBTBK_OFF))
	EQUIVALENCE(TDBBRK,TDBREC(TDBBRK_OFF))
	EQUIVALENCE(TDBABW,TDBREC(TDBABW_OFF))
	EQUIVALENCE(TDBODS,TDBREC(TDBODS_OFF))
	EQUIVALENCE(TDBWIN,TDBREC(TDBWIN_OFF))
	EQUIVALENCE(TDBHLD,TDBREC(TDBHLD_OFF))
	EQUIVALENCE(TDBTAX,TDBREC(TDBTAX_OFF))
	EQUIVALENCE(TDBOTX,TDBREC(TDBOTX_OFF))
	EQUIVALENCE(TDBMID,TDBREC(TDBMID_OFF))
	EQUIVALENCE(TDBUTX,TDBREC(TDBUTX_OFF))
	EQUIVALENCE(TDBHST,TDBREC(TDBHST_OFF))
	EQUIVALENCE(TDBORM,TDBREC(TDBORM_OFF))
	EQUIVALENCE(TDBENM,TDBREC(TDBENM_OFF))
	EQUIVALENCE(TDBDES,TDBREC(TDBDES_OFF))
	EQUIVALENCE(TDBNMS,TDBREC(TDBNMS_OFF))
	EQUIVALENCE(TDBSTA,TDBREC(TDBSTA_OFF))
	EQUIVALENCE(TDBSBR,TDBREC(TDBSBR_OFF))
	EQUIVALENCE(TDBREV,TDBREC(TDBREV_OFF))
	EQUIVALENCE(TDBPFN,TDBREC(TDBPFN_OFF))
	EQUIVALENCE(TDBRTM,TDBREC(TDBRTM_OFF))
	EQUIVALENCE(TDBPRC,TDBREC(TDBPRC_OFF))
	EQUIVALENCE(TDBSPR,TDBREC(TDBSPR_OFF))
	EQUIVALENCE(TDBTVC,TDBREC(TDBTVC_OFF))
	EQUIVALENCE(TDBMDS,TDBREC(TDBMDS_OFF))
	EQUIVALENCE(TDBRWS,TDBREC(TDBRWS_OFF))
	EQUIVALENCE(TDBWCP,TDBREC(TDBWCP_OFF))
	EQUIVALENCE(TDBWBT,TDBREC(TDBWBT_OFF))
        EQUIVALENCE(TDBWRO,TDBREC(TDBWRO_OFF))
        EQUIVALENCE(TDBWRA,TDBREC(TDBWRA_OFF))
        EQUIVALENCE(TDBWPO,TDBREC(TDBWPO_OFF))
        EQUIVALENCE(TDBWPA,TDBREC(TDBWPA_OFF))
        EQUIVALENCE(TDBWPR,TDBREC(TDBWPR_OFF))
        EQUIVALENCE(TDBODT,TDBREC(TDBODT_OFF))
        EQUIVALENCE(TDBPCC,TDBREC(TDBPCC_OFF))
        EQUIVALENCE(TDBCMB,TDBREC(TDBCMB_OFF))
        EQUIVALENCE(TDBFRS,TDBREC(TDBFRS_OFF))
