C TCPREC.DEF
C
C V07 18-MAY-1999 UXN TCPCMB added.
C V06 12-DEC-1995 PXB WBT Redimension
C V05 28-NOV-1995 HXK Batch of changes for Double/Couple release
C V04 23-NOV-1995 PXB Added event status
C V03 10-NOV-1995 HXK Further changes for Double, Couple
C V02 07-NOV-1995 HXK Changes for Double, Couple install
C V01 06-NOV-1995 PXB Initial revision.
C  
C TODAY'S COUPLE GAME DATA FILE RECORD LAYOUT (DISK)
C
C
C
C     TCPSTS                         ; GAME STATUS
C     TCPWEK                         ; WEEK NUMBER
C     TCPDAT                         ; DRAW DATE
C     TCPDRW                         ; DRAW NUMBER
C     TCPBSD                         ; BEGINNING SALES DATE
C     TCPESD                         ; ENDING SALES DATE
C     TCPPUP                         ; LAST PRUGE UPDATE  (FILE ONLY)
C     TCPUPD                         ; LAST FILE UPDATE   (FILE ONLY)
C     TCPCTM                         ; ACTUAL TIME WHEN CLOSED
C     TCPTIM                         ; TIME WHEN GAME SHOULD CLOSE
C     TCPSER                         ; LAST SERIAL NUMBER
C     TCPSAL(NUMTOT)                 ; TOTAL SALES (COUNT , AMOUNT)
C     TCPPAD                         ; PRIZES PAID + REFUNDS
C     TCPPRG                         ; PRIZES PURGED
C     TCPPRF                         ; PAID REFUNDS
C     TCPREF                         ; TOTAL REFUND AMOUNT
C     TCPERF                         ; EARLY REFUNDS PAID
C     TCPTER                         ; TOTAL EARLY REFUNDS (LIAB)
C     TCPWON                         ; PRIZES WON
C     TCPPOL(2)                      ; ROLL POOL
C     TCPTPL                         ; TOTAL PRIZE POOL
C     TCPTBK                         ; TOTAL BREAKAGE
C     TCPBRK(2)                      ; WINNING ROUNDING POT
C     TCPABW                         ; AMOUNT BET ON WINNING SCORE
C     TCPODS(MAXCPLTI)               ; WINNING ODDS
C     TCPWIN(2,MAXCPLTI)             ; WINNING RESULTS
C     TCPHLD(2,MAXCPLTI)             ; WINNING RESULTS HOLD
C     TCPTAX                         ; WINNING TAXES
C     TCPOTX(NUMTOT)                 ; OVER TAX LIMIT
C     TCPMID(NUMTOT)                 ; >REDMIN <REDMAX
C     TCPUTX(NUMTOT)                 ; UNDER TAX LIMIT
C     TCPHST(MAXCPLTI)               ; HIGHEST WINNER PER WINING COMB
C     TCPORM(NUMTOT)                 ; OVER REDMAX
C     TCPENM(CPLENM_LEN/4,2)         ; EVENT NAME 1 (IDX1) EVENT NAME 2 (IDX2)
C     TCPDES(CPLDES_LEN/4,2)         ; GAME DESCRIPTION
C     TCPNMS(CPLNMS_LEN/4,MAXCPLRW)  ; ROW NAMES
C     TCPSTA(MAXCPLRW)               ; ROW STATUS 1 THROUGH MAXTRW
C     TCPEST(2)			     ; EVENT STATUS
C     TCPEVD(2)			     ; EVENT BEGIN DATE
C     TCPETT(2)			     ; EVENT BEGIN TIME
C     TCPSBR(MAXCPLRW)               ; SALES BY ROW TABLE
C     TCPREV                         ; REV #
C     TCPPFN(5)                      ; POOL FILE NAME
C     TCPRTM(MAXCPLRW)               ; ROW CLOSE TIMES
C     TCPPRC                         ; BASE PRICE
C     TCPSPR                         ; POOL PERCENTAGE
C     TCPTVC(CPLTVC_LEN/4)    	     ; TV-CHANEL NAME
C     TCPMDS(MAXMLTD_AVL)	     ; MULTI DRAW SELECTED TABLE
C                                      (52 BYTE / 4 = 13)
C     TCPRWS			     ; ACTUAL # OF ROWS USED.
C     TCPWCP(MAXCPLTI)		     ; # WINNING COUPONS PLAYED
C     TCPWBT(NUMTOT,MAXCPLTI)        ; CNT, AMT WINNERS PLAYED
C     TCPWRO(NUMTOT,2)               ; WINNING: COUNT,AMOUNT REFUNDS ONLY
C     TCPWRA(NUMTOT,2)               ; WINNING: COUNT,AMOUNT REFUNDS ALTOGETHER
C     TCPWPO(NUMTOT,2)               ; WINNING: COUNT,AMOUNT PRIZES ONLY
C     TCPWPA(NUMTOT,2)               ; WINNING: COUNT,AMOUNT PRIZES ALTOGETHER
C     TCPWPR(NUMTOT,2)               ; WINNING: COUNT,AMOUNT PRIZES AND REFUNDS
C                                    ; (1=PRWON,2=PRPAD)
C     TCPODT(MAXCPLRW/2*MAXCPLRW/2)  ; TABLE OF AMTS ON COMBNS FOR ODDS
C     TCPCMB                         ; NUMBER OF WINNING COMBINATIONS
C     TCPFRS(99)                     ; FREE SPACE
C
C WINNERS GAME FILE PARAMETERS
C
C
C
C+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
C This item is the property of GTECH Corporation, Providence, Rhode
C Island, and contains confidential and trade secret information. It
C may not be transferred from the custody or control of GTECH except
C as authorized in writing by an officer of GTECH. Neither this item
C nor the information it contains may be used, transferred,
C reproduced, published, or disclosed, in whole or in part, and
C directly or indirectly, except as expressly authorized by an
C officer of GTECH, pursuant to written agreement.
C
C Copyright 1996 GTECH Corporation. All rights reserved.
C+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
C
C
	INTEGER*4 TCPSTS,TCPWEK,TCPDAT,TCPBSD,TCPESD,TCPCTM,TCPTIM
	INTEGER*4 TCPSAL(NUMTOT),TCPPAD,TCPPRG,TCPREF,TCPWON,TCPPOL(2),TCPTPL
	INTEGER*4 TCPTBK,TCPBRK(2),TCPABW,TCPODS(MAXCPLTI),TCPWIN(2,MAXCPLTI)
	INTEGER*4 TCPTAX,TCPOTX(NUMTOT),TCPHLD(2,MAXCPLTI)
	INTEGER*4 TCPMID(NUMTOT),TCPUTX(NUMTOT),TCPHST(MAXCPLTI),TCPORM(2)
	INTEGER*4 TCPENM(CPLENM_LEN/4,2)
	INTEGER*4 TCPDES(CPLDES_LEN/4,2)
	INTEGER*4 TCPNMS(CPLNMS_LEN/4,MAXCPLRW)
	INTEGER*4 TCPREV,TCPPUP,TCPUPD,TCPSTA(MAXCPLRW),TCPEST(2)
	INTEGER*4 TCPEVD(2),TCPEVT(2)
	INTEGER*4 TCPSBR(MAXCPLRW),TCPPFN(5),TCPERF,TCPTER,TCPDRW
	INTEGER*4 TCPRTM(MAXCPLRW),TCPSER,TCPPRF,TCPSPR,TCPPRC
	INTEGER*4 TCPTVC(CPLTVC_LEN/4)
C
	BYTE	  TCPMDS(MAXMLTD_AVL)
C
	INTEGER*4 TCPRWS,TCPWCP(MAXCPLTI),TCPWBT(NUMTOT,MAXCPLTI)
        INTEGER*4 TCPWRO(NUMTOT,2),TCPWRA(NUMTOT,2),TCPWPO(NUMTOT,2)
        INTEGER*4 TCPWPA(NUMTOT,2),TCPWPR(NUMTOT,2)
        INTEGER*4 TCPODT(MAXCPLRW/2*MAXCPLRW/2)       
	INTEGER*4 TCPCMB
	INTEGER*4 TCPFRS(99)
C
C OFFSET PARAMETERS AND EQUIVALENCES
C
	INTEGER*4 TCPSTS_OFF, TCPWEK_OFF, TCPDAT_OFF, TCPDRW_OFF
	PARAMETER(TCPSTS_OFF = 1)					!001
	PARAMETER(TCPWEK_OFF = TCPSTS_OFF + 1)				!002
	PARAMETER(TCPDAT_OFF = TCPWEK_OFF + 1)				!003
	PARAMETER(TCPDRW_OFF = TCPDAT_OFF + 1)				!004
C
	INTEGER*4 TCPBSD_OFF, TCPESD_OFF, TCPPUP_OFF, TCPUPD_OFF
	PARAMETER(TCPBSD_OFF = TCPDRW_OFF + 1)				!005
	PARAMETER(TCPESD_OFF = TCPBSD_OFF + 1)				!006
	PARAMETER(TCPPUP_OFF = TCPESD_OFF + 1)				!007
	PARAMETER(TCPUPD_OFF = TCPPUP_OFF + 1)				!008
C
	INTEGER*4 TCPCTM_OFF, TCPTIM_OFF, TCPSER_OFF, TCPSAL_OFF
	PARAMETER(TCPCTM_OFF = TCPUPD_OFF + 1)				!009
	PARAMETER(TCPTIM_OFF = TCPCTM_OFF + 1)				!010
	PARAMETER(TCPSER_OFF = TCPTIM_OFF + 1)				!011
	PARAMETER(TCPSAL_OFF = TCPSER_OFF + 1)			        !012
C
	INTEGER*4 TCPPAD_OFF, TCPPRG_OFF, TCPPRF_OFF, TCPREF_OFF
	PARAMETER(TCPPAD_OFF = TCPSAL_OFF + NUMTOT)	                !014
	PARAMETER(TCPPRG_OFF = TCPPAD_OFF + 1)				!015
	PARAMETER(TCPPRF_OFF = TCPPRG_OFF + 1)				
	PARAMETER(TCPREF_OFF = TCPPRF_OFF + 1)				!017
C
	INTEGER*4 TCPERF_OFF, TCPTER_OFF, TCPWON_OFF, TCPPOL_OFF
	PARAMETER(TCPERF_OFF = TCPREF_OFF + 1)				!018
	PARAMETER(TCPTER_OFF = TCPERF_OFF + 1)				!019
	PARAMETER(TCPWON_OFF = TCPTER_OFF + 1)				!020
	PARAMETER(TCPPOL_OFF = TCPWON_OFF + 1)				!021
C
	INTEGER*4 TCPTPL_OFF, TCPTBK_OFF, TCPBRK_OFF, TCPABW_OFF
	PARAMETER(TCPTPL_OFF = TCPPOL_OFF + 2)				!023
	PARAMETER(TCPTBK_OFF = TCPTPL_OFF + 1)				!024
	PARAMETER(TCPBRK_OFF = TCPTBK_OFF + 1)				!025
	PARAMETER(TCPABW_OFF = TCPBRK_OFF + 2)				!027
C
	INTEGER*4 TCPODS_OFF, TCPWIN_OFF, TCPHLD_OFF, TCPTAX_OFF
	PARAMETER(TCPODS_OFF = TCPABW_OFF + 1)				!028
	PARAMETER(TCPWIN_OFF = TCPODS_OFF + MAXCPLTI)			
	PARAMETER(TCPHLD_OFF = TCPWIN_OFF + 2*MAXCPLTI)			
	PARAMETER(TCPTAX_OFF = TCPHLD_OFF + 2*MAXCPLTI)			

C
	INTEGER*4 TCPOTX_OFF, TCPMID_OFF, TCPUTX_OFF, TCPHST_OFF
	PARAMETER(TCPOTX_OFF = TCPTAX_OFF + 1)				!077
	PARAMETER(TCPMID_OFF = TCPOTX_OFF + NUMTOT)			!079
	PARAMETER(TCPUTX_OFF = TCPMID_OFF + NUMTOT)			!081
	PARAMETER(TCPHST_OFF = TCPUTX_OFF + NUMTOT)			!083
C
	INTEGER*4 TCPORM_OFF, TCPENM_OFF, TCPDES_OFF, TCPNMS_OFF
	PARAMETER(TCPORM_OFF = TCPHST_OFF + MAXCPLTI)
	PARAMETER(TCPENM_OFF = TCPORM_OFF + NUMTOT)			!098
	PARAMETER(TCPDES_OFF = TCPENM_OFF + (CPLENM_LEN/4)*2)		!104
	PARAMETER(TCPNMS_OFF = TCPDES_OFF + (CPLDES_LEN/4)*2)		!134
C
	INTEGER*4 TCPSTA_OFF, TCPSBR_OFF, TCPREV_OFF, TCPPFN_OFF
	INTEGER*4 TCPEST_OFF, TCPEVD_OFF, TCPEVT_OFF
	PARAMETER(TCPSTA_OFF = TCPNMS_OFF + (CPLNMS_LEN/4)*MAXCPLRW)	!278
	PARAMETER(TCPEST_OFF = TCPSTA_OFF + MAXCPLRW)			!314
	PARAMETER(TCPEVD_OFF = TCPEST_OFF + 2)				
	PARAMETER(TCPEVT_OFF = TCPEVD_OFF + 2)				
	PARAMETER(TCPSBR_OFF = TCPEVT_OFF + 2)				
	PARAMETER(TCPREV_OFF = TCPSBR_OFF + MAXCPLRW)			!350
	PARAMETER(TCPPFN_OFF = TCPREV_OFF + 1)				!351
C
	INTEGER*4 TCPRTM_OFF, TCPPRC_OFF, TCPSPR_OFF, TCPTVC_OFF
	PARAMETER(TCPRTM_OFF = TCPPFN_OFF + 5)				!356
	PARAMETER(TCPPRC_OFF = TCPRTM_OFF + MAXCPLRW)			!392
	PARAMETER(TCPSPR_OFF = TCPPRC_OFF + 1)				!393
	PARAMETER(TCPTVC_OFF = TCPSPR_OFF + 1)				!394 
C
	INTEGER*4 TCPMDS_OFF
	PARAMETER(TCPMDS_OFF = TCPTVC_OFF + (CPLTVC_LEN/4))		
C
        INTEGER*4 TCPWRO_OFF, TCPWRA_OFF, TCPWPO_OFF, TCPWPA_OFF
        INTEGER*4 TCPWPR_OFF, TCPRWS_OFF, TCPWCP_OFF, TCPODT_OFF
	INTEGER*4 TCPWBT_OFF
	PARAMETER(TCPRWS_OFF = TCPMDS_OFF + (MAXMLTD_AVL/4))
	PARAMETER(TCPWCP_OFF = TCPRWS_OFF + 1)
	PARAMETER(TCPWBT_OFF = TCPWCP_OFF + MAXCPLTI)
        PARAMETER(TCPWRO_OFF = TCPWBT_OFF + NUMTOT*MAXCPLTI)
        PARAMETER(TCPWRA_OFF = TCPWRO_OFF + 2*NUMTOT)
        PARAMETER(TCPWPO_OFF = TCPWRA_OFF + 2*NUMTOT)
        PARAMETER(TCPWPA_OFF = TCPWPO_OFF + 2*NUMTOT)
        PARAMETER(TCPWPR_OFF = TCPWPA_OFF + 2*NUMTOT) 
        PARAMETER(TCPODT_OFF = TCPWPR_OFF + 2*NUMTOT) 

	INTEGER*4 TCPCMB_OFF
	PARAMETER(TCPCMB_OFF = TCPODT_OFF + MAXCPLRW/2*MAXCPLRW/2)
	INTEGER*4 TCPFRS_OFF
        PARAMETER(TCPFRS_OFF = TCPCMB_OFF + 1) 


	INTEGER*4 TCPFRE_OFF
	PARAMETER(TCPFRE_OFF = TCPFRS_OFF + 99)
C
C CALCULATE FREE SPACE BASED ON MACHINE DEPENDENT SECTOR SIZES.
C SHOULD ALLWAYS ADD UP TO A EVEN SECTOR SIZE BYTES (VAX 512).
C NOTE! IN CALCULATIONS, FRE_OFF-2 IS DONE TO TAKE CARE OF WHEN THE DATA SIZE
C       ENDS ON A EVEN SECTOR SIZE.
C
        INTEGER*4 TCPSEC_VAX, TCPSEC_NUM
        PARAMETER (TCPSEC_VAX = SECSIZE/4)
	PARAMETER (TCPSEC_NUM = NINT(FLOAT((TCPFRE_OFF-2)/TCPSEC_VAX)+.5))
C
        INTEGER*4 TCPLEN, TCPSEC
        PARAMETER(TCPLEN = TCPSEC_VAX * TCPSEC_NUM)        ! even sector size
        PARAMETER(TCPSEC = TCPLEN/64)
C
        INTEGER*4 TCPREC(TCPLEN)
C
	EQUIVALENCE(TCPSTS,TCPREC(TCPSTS_OFF))
	EQUIVALENCE(TCPWEK,TCPREC(TCPWEK_OFF))
	EQUIVALENCE(TCPDAT,TCPREC(TCPDAT_OFF))
	EQUIVALENCE(TCPDRW,TCPREC(TCPDRW_OFF))
	EQUIVALENCE(TCPBSD,TCPREC(TCPBSD_OFF))
	EQUIVALENCE(TCPESD,TCPREC(TCPESD_OFF))
	EQUIVALENCE(TCPPUP,TCPREC(TCPPUP_OFF))
	EQUIVALENCE(TCPUPD,TCPREC(TCPUPD_OFF))
	EQUIVALENCE(TCPCTM,TCPREC(TCPCTM_OFF))
	EQUIVALENCE(TCPTIM,TCPREC(TCPTIM_OFF))
	EQUIVALENCE(TCPSER,TCPREC(TCPSER_OFF))
	EQUIVALENCE(TCPSAL,TCPREC(TCPSAL_OFF))
	EQUIVALENCE(TCPPAD,TCPREC(TCPPAD_OFF))
	EQUIVALENCE(TCPPRG,TCPREC(TCPPRG_OFF))
	EQUIVALENCE(TCPPRF,TCPREC(TCPPRF_OFF))
	EQUIVALENCE(TCPREF,TCPREC(TCPREF_OFF))
	EQUIVALENCE(TCPERF,TCPREC(TCPERF_OFF))
	EQUIVALENCE(TCPTER,TCPREC(TCPTER_OFF))
	EQUIVALENCE(TCPWON,TCPREC(TCPWON_OFF))
	EQUIVALENCE(TCPPOL,TCPREC(TCPPOL_OFF))
	EQUIVALENCE(TCPTPL,TCPREC(TCPTPL_OFF))
	EQUIVALENCE(TCPTBK,TCPREC(TCPTBK_OFF))
	EQUIVALENCE(TCPBRK,TCPREC(TCPBRK_OFF))
	EQUIVALENCE(TCPABW,TCPREC(TCPABW_OFF))
	EQUIVALENCE(TCPODS,TCPREC(TCPODS_OFF))
	EQUIVALENCE(TCPWIN,TCPREC(TCPWIN_OFF))
	EQUIVALENCE(TCPHLD,TCPREC(TCPHLD_OFF))
	EQUIVALENCE(TCPTAX,TCPREC(TCPTAX_OFF))
	EQUIVALENCE(TCPOTX,TCPREC(TCPOTX_OFF))
	EQUIVALENCE(TCPMID,TCPREC(TCPMID_OFF))
	EQUIVALENCE(TCPUTX,TCPREC(TCPUTX_OFF))
	EQUIVALENCE(TCPHST,TCPREC(TCPHST_OFF))
	EQUIVALENCE(TCPORM,TCPREC(TCPORM_OFF))
	EQUIVALENCE(TCPENM,TCPREC(TCPENM_OFF))
	EQUIVALENCE(TCPDES,TCPREC(TCPDES_OFF))
	EQUIVALENCE(TCPNMS,TCPREC(TCPNMS_OFF))
	EQUIVALENCE(TCPSTA,TCPREC(TCPSTA_OFF))
	EQUIVALENCE(TCPEST,TCPREC(TCPEST_OFF))
	EQUIVALENCE(TCPEVD,TCPREC(TCPEVD_OFF))
	EQUIVALENCE(TCPEVT,TCPREC(TCPEVT_OFF))
	EQUIVALENCE(TCPSBR,TCPREC(TCPSBR_OFF))
	EQUIVALENCE(TCPREV,TCPREC(TCPREV_OFF))
	EQUIVALENCE(TCPPFN,TCPREC(TCPPFN_OFF))
	EQUIVALENCE(TCPRTM,TCPREC(TCPRTM_OFF))
	EQUIVALENCE(TCPPRC,TCPREC(TCPPRC_OFF))
	EQUIVALENCE(TCPSPR,TCPREC(TCPSPR_OFF))
	EQUIVALENCE(TCPTVC,TCPREC(TCPTVC_OFF))
	EQUIVALENCE(TCPMDS,TCPREC(TCPMDS_OFF))
	EQUIVALENCE(TCPRWS,TCPREC(TCPRWS_OFF))
	EQUIVALENCE(TCPWCP,TCPREC(TCPWCP_OFF))
	EQUIVALENCE(TCPWBT,TCPREC(TCPWBT_OFF))
        EQUIVALENCE(TCPWRO,TCPREC(TCPWRO_OFF))
        EQUIVALENCE(TCPWRA,TCPREC(TCPWRA_OFF))
        EQUIVALENCE(TCPWPO,TCPREC(TCPWPO_OFF))
        EQUIVALENCE(TCPWPA,TCPREC(TCPWPA_OFF))
        EQUIVALENCE(TCPWPR,TCPREC(TCPWPR_OFF))
        EQUIVALENCE(TCPODT,TCPREC(TCPODT_OFF))
        EQUIVALENCE(TCPCMB,TCPREC(TCPCMB_OFF))
        EQUIVALENCE(TCPFRS,TCPREC(TCPFRS_OFF))
