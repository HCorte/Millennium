C LOPPAS.DEF
C
C V01 23-FEB-2015 SCML INITIAL RELEASE
C
C STRUCT WITH LOPPAS DEFINITIONS
C
C+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
C Copyright 2015 SCML. All rights reserved.
C+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
C
        INCLUDE 'INCLIB:DESVAL.DEF'
        INCLUDE 'INCLIB:VDETAIL.DEF'
C
        STRUCTURE /STCEMIS/
          INTEGER*8 STCSHV(PAGDIV)        ! SHARE VALUE
          INTEGER*8 STCEXSHV(PAGEDV)      ! EXTRA SHARE VALUE
          INTEGER*4 STCEMIS               ! EMISSION NUMBER
          INTEGER*4 STCEMT                ! EMISSION TYPE
          INTEGER*4 STCPLAN               ! EMISSION PLAN
          INTEGER*4 STCNUMTCK             ! NUMBER OF TICKETS/EMISSION
          INTEGER*4 STCNUMSER             ! # OF SERIES
          INTEGER*4 STCWSER               ! WINNING SERIE
          INTEGER*4 STCDIV                ! NUMBER OF DIVISIONS
          INTEGER*4 STCBSD                ! BEGIN SALES DATE
          INTEGER*4 STCESD                ! END SALES DATE
          INTEGER*4 STCNOFFRA             ! NUMBER OF FRACTIONS
          INTEGER*4 STCPRGCDC             ! PURGING CDC OF THIS EMISSION
          INTEGER*4 STCWIN(PAGNBR,PAGDIV) ! REGULAR WINNING NUMBERS
          INTEGER*4 STCSHR(PAGDIV)        ! SHARES
          INTEGER*4 STCEXSHR(PAGEDV)      ! EXTRA SHARES
          INTEGER*4 STCWNUM(PAGDIV)       ! NUMBER OF WIN. NO.
          INTEGER*4 STCTYP(PAGDIV)        ! PRIZE TYPE
          INTEGER*4 STCDIG(PAGDIV)        ! # OF DIGITS
          INTEGER*4 STCIDNUM(PAGDIV)      ! CROSS REFERENCE
          INTEGER*4 ALIGN                 ! ALIGNMENT,FREE FOR USE
        ENDSTRUCTURE
C
C STRUCT WITH DATA EMISSION INFORMATION
C
        STRUCTURE /STCLOPPAS/
          INTEGER*4    GTYP            ! PASSIVE GAME TYPE
          INTEGER*4    GNUM            ! PASSIVE GAME NUMBER
          INTEGER*4    INDPAS          ! PASSIVE GAME INDEX
          CHARACTER*16 GLNAM           ! PASSIVE LONG NAME
          INTEGER*4    EXTNUM          ! EXTRACTION NUMBER
          INTEGER*4    EXTYEAR         ! EXTRACTION YEAR
          CHARACTER*6  EXTNAM          ! EXTRACTION NAME
C
          INTEGER*4    DRAWNUM         ! DRAW NUMBER
          INTEGER*4    INDEMIS         ! INDICE OF THE EMISSION IN MEMORY
C
          INTEGER*4    LOP_LUN         ! LUN FOR PJMC_LOP FILE
          INTEGER*4    TMP_LUN         ! LUN FOR PJMC_LOP TEMPORARY FILE (WORKING FILE)
          INTEGER*4    VPF_LUN         ! LUN FOR VPF FILE
C
          INTEGER*4    LOPGENDAT(8)    ! PJMC_LOP GENERATION DATE
          CHARACTER*27 LOPFILNAM       ! PJMC_LOP INTERFACE FILE FILE NAME FOR PJMC
          CHARACTER*27 TMPFILNAM       ! PJMC_LOP TEMPORARY FILE NAME
          CHARACTER*20 VPFFILNAM       ! VPF FILE NAME
C
          INTEGER*4    TOTLOPREC       ! TOTAL RECORDS WRITTEN TO PJMC_LOP FILE
          INTEGER*4    TOTLOPRECHP     ! TOTAL RECORDS WRITTEN TO PJMC_LOP FILE OF TYPE HP
          INTEGER*4    TOTLOPREC01     ! TOTAL RECORDS WRITTEN TO PJMC_LOP FILE OF TYPE 01
          INTEGER*4    TOTLOPREC02     ! TOTAL RECORDS WRITTEN TO PJMC_LOP FILE OF TYPE 02
          INTEGER*4    TOTLOPRECTP     ! TOTAL RECORDS WRITTEN TO PJMC_LOP FILE OF TYPE TP
C
          INTEGER*4    TOTREADVPF      ! TOTAL RECORDS READ FROM VPF
          INTEGER*4    TOTVALREC       ! TOTAL RECORDS VALID FROM VPF
          INTEGER*4    TOTINVREC       ! TOTAL RECORDS INVALID FROM VPF
          INTEGER*4    TOTNFREC        ! TOTAL RECORDS NOT FOUND FROM VPF
          INTEGER*4    TOTOTHERR       ! TOTAL OF OTHER ERRORS RETURNED WHILE READING FROM VPF
C
          INTEGER*4    WSERSHV(PAGDIV) ! WINNING SERIE SHARE VALUES
          INTEGER*4    OSERSHV(PAGDIV) ! OTHER SERIES SHARE VALUES
          INTEGER*4    NUMDIVS         ! NUMBER OF DIVISIONS
C
          INTEGER*4    FILLER          ! ALIGNMENT, FREE FOR USE
C
          RECORD /STCEMIS/ EMICONF 
       ENDSTRUCTURE
C
C POPULAR/CLASSICA AUX VARIABLES
C
       INTEGER*4 IDXWSER
       PARAMETER (IDXWSER = 1)           ! ARRAY INDEX FOR WINNING SERIE NUMBER
       INTEGER*4 IDXOSER
       PARAMETER (IDXOSER = IDXWSER + 1) ! ARRAY INDEX FOR OTHER SERIE (NOT THE WINNING SERIE)
       INTEGER*4 MAXIDX
       PARAMETER (MAXIDX = IDXOSER)      ! MAXIMUM ARRAY INDEX
       INTEGER*4 VSER(MAXIDX)            ! ARRAY TO KEEP THE SERIES TO USE
       INTEGER*4 VVALREC(VALLEN,MAXIDX)
       INTEGER*4 VVDETAIL(VPLEN,VMAX,MAXIDX)
       INTEGER*4 VERRN(MAXIDX)
C
C PJMC_LOP FILE RECORD TYPES
C
       CHARACTER*2 RECTYP_HP /'HP'/
       CHARACTER*2 RECTYP_01 /'01'/
       CHARACTER*2 RECTYP_02 /'02'/
       CHARACTER*2 RECTYP_TP /'TP'/
