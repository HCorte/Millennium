C TRPCOM.DEF
C
C V05 30-JUN-2000 UXN TRPLAT ADDED.
C V04 08-JUN-2000 UXN TRP2ND_OFF, TRP2ND, TRPFUL removed.
C V03 28-MAY-1999 UXN TRPCMB added, TRPHLD,TRPWIN restructured.
C V02 10-MAY-1999 UXN TRIPLE CHANGED TO TRIO
C V01 23-DEC-1997 RXK Initial release.  
C
C TODAYS TRIO GAME COMMON.
C
C GAME VARIABLE ARAYS.
C
C     TRPSTS(NUMTRP)                 ; GAME STATUS
C     TRPWEK(NUMTRP)                 ; WEEK NUMBER
C     TRPDAT(NUMTRP)                 ; DRAW DATE
C     TRPDRW(NUMTRP)                 ; DRAW NUMBER
C     TRPBSD(NUMTRP)                 ; BEGINNING SALES DATE
C     TRPESD(NUMTRP)                 ; ENDING SALES DATE
C     TRPPUP(NUMTRP)                 ; LAST PRUGE UPDATE  (FILE ONLY)
C     TRPUPD(NUMTRP)                 ; LAST FILE UPDATE   (FILE ONLY)
C     TRPCTM(NUMTRP)                 ; ACTUAL TIME WHEN CLOSED
C     TRPTIM(NUMTRP)                 ; TIME WHEN GAME SHOULD CLOSE
C     TRPSER(NUMTRP)                 ; LAST SERIAL NUMBER
C     TRPSAL(NUMTOT,NUMTRP)          ; TOTAL SALES (COUNT , AMOUNT)
C     TRPPAD(NUMTRP)                 ; PRIZES PAID + REFUNDS
C     TRPPRG(NUMTRP)                 ; PRIZES PURGED
C     TRPPRF(NUMTRP)                 ; PAID REFUNDS
C     TRPREF(NUMTRP)                 ; TOTAL REFUND AMOUNT
C     TRPERF(NUMTRP)                 ; EARLY REFUNDS PAID
C     TRPTER(NUMTRP)                 ; TOTAL EARLY REFUNDS (LIAB)
C     TRPWON(NUMTRP)                 ; PRIZES WON
C     TRPPOL(2,NUMTRP)               ; ROLL POOL
C     TRPTPL(NUMTRP)                 ; TOTAL PRIZE POOL
C     TRPTBK(NUMTRP)                 ; TOTAL BREAKAGE
C     TRPBRK(2,NUMTRP)		     ; WINNING ROUNDING POT
C     TRPABW(NUMTRP)                 ; AMOUNT BET ON WINNING SCORE
C     TRPODS(MAXTRPTI,NUMTRP)        ; WINNING ODDS
C     TRPWIN(3,MAXTRPTI,NUMTRP)      ; WINNING RESULTS
C     TRPHLD(3,MAXTRPTI,NUMTRP)      ; WINNING RESULTS HOLD
C     TRPTAX(NUMTRP)                 ; WINNING TAXES
C     TRPOTX(NUMTOT,NUMTRP)          ; OVER TAX LIMIT
C     TRPMID(NUMTOT,NUMTRP)          ; >REDMIN <REDMAX
C     TRPUTX(NUMTOT,NUMTRP)          ; UNDER TAX LIMIT
C     TRPHST(MAXTRPTI,NUMTRP)        ; HIGHEST WINNER PER WINING COMB
C     TRPORM(NUMTOT,NUMTRP)          ; OVER REDMAX
C     TRPMNM(TRPENM_LEN/4,NUMTRP)             ; MASTER EVENT NAME
C     TRPENM(TRPENM_LEN/4,3,NUMTRP)           ; EVENT NAME
C     TRPDES(TRPDES_LEN/4,3,NUMTRP)           ; GAME DESCRIPTION
C     TRPNMS(TRPNMS_LEN/4,MAXTRPRW,3,NUMTRP)  ; ROW NAMES
C     TRPSTA(MAXTRPRW,3,NUMTRP)               ; ROW STATUS 1 THROUGH MAXTRW
C     TRPEST(3,NUMTRP)			      ; Event Status.
C     TRPEVD(3,NUMTRP)			      ; Event DATE
C     TRPEVT(3,NUMTRP)			      ; Event TIME
C     TRPSBR(MAXTRPRW,3,NUMTRP)                 ; SALES BY ROW TABLE
C     TRPREV(NUMTRP)                 ; REV #
C     TRPPFN(5,NUMTRP)               ; POOL FILE NAME
C     TRPPRC(NUMTRP)                 ; BASE PRICE
C     TRPSPR(NUMTRP)                 ; POOL PERCENTAGE
C     TRPRWS(3,NUMTRP)		     ; ACTUAL # OF ROWS USED.
C     TRPWCP(MAXTRPTI,NUMTRP)        ; # WINNING COUPONS PLAYED
C     TRPWBT(NUMTOT,MAXTRPTI,NUMTRP) ; CNT, AMT WINNERS PLAYED BY TIES
C     TRPWRO(NUMTOT,2,NUMTRP)        ; WINNING: COUNT,AMOUNT REFUNDS ONLY
C     TRPWRA(NUMTOT,2,NUMTRP)        ; WINNING: COUNT,AMOUNT REFUNDS ALTOGETHER
C     TRPWPO(NUMTOT,2,NUMTRP)        ; WINNING: COUNT,AMOUNT PRIZES ONLY
C     TRPWPA(NUMTOT,2,NUMTRP)        ; WINNING: COUNT,AMOUNT PRIZES ALTOGETHER
C     TRPWPR(NUMTOT,2,NUMTRP)        ; WINNING: COUNT,AMOUNT PRIZES AND REFUNDS
C                                    ; (1=PRWON,2=PRPAD)
C     TRPCMB(NUMTRP)                 ; NUMBER OF WINNING COMBINATIONS
C     TRPLAT(NUMLAT,NUMTRP)          ; EVENT STARTED BEFORE GAME WAS CLOSED
C                                    ; TICKETS PLAYED LATER SHOULD BE REFUNDED.
C
C+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
C This item is the property of GTECH Corporation, Providence, Rhode
C Island, and contains confidential and trade secret information. It
C may not be transferred from the custody or control of GTECH except
C as authorized in writing by an officer of GTECH. Neither this item
C nor the information it contains may be used, transferred,
C reproduced, published, or disclosed, in whole or in part, and
C directly or indirectly, except as expressly authorized by an
C officer of GTECH, pursuant to written agreement.
C
C Copyright 1997 GTECH Corporation. All rights reserved.
C+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
C
C
      INTEGER*4 TRPSTS_OFF, TRPWEK_OFF, TRPDAT_OFF, TRPDRW_OFF
      INTEGER*4 TRPBSD_OFF, TRPESD_OFF, TRPPUP_OFF, TRPUPD_OFF
      INTEGER*4 TRPCTM_OFF, TRPTIM_OFF, TRPSER_OFF, TRPSAL_OFF
      PARAMETER(TRPSTS_OFF=1)
      PARAMETER(TRPWEK_OFF=TRPSTS_OFF+NUMTRP)
      PARAMETER(TRPDAT_OFF=TRPWEK_OFF+NUMTRP)
      PARAMETER(TRPDRW_OFF=TRPDAT_OFF+NUMTRP)
      PARAMETER(TRPBSD_OFF=TRPDRW_OFF+NUMTRP)
      PARAMETER(TRPESD_OFF=TRPBSD_OFF+NUMTRP)
      PARAMETER(TRPPUP_OFF=TRPESD_OFF+NUMTRP)
      PARAMETER(TRPUPD_OFF=TRPPUP_OFF+NUMTRP)
      PARAMETER(TRPCTM_OFF=TRPUPD_OFF+NUMTRP)
      PARAMETER(TRPTIM_OFF=TRPCTM_OFF+NUMTRP)
      PARAMETER(TRPSER_OFF=TRPTIM_OFF+NUMTRP)
      PARAMETER(TRPSAL_OFF=TRPSER_OFF+NUMTRP)

      INTEGER*4 TRPPAD_OFF, TRPPRG_OFF, TRPPRF_OFF, TRPREF_OFF
      INTEGER*4 TRPERF_OFF, TRPTER_OFF, TRPWON_OFF, TRPPOL_OFF
      INTEGER*4 TRPTPL_OFF, TRPTBK_OFF, TRPBRK_OFF, TRPABW_OFF
      PARAMETER(TRPPAD_OFF=TRPSAL_OFF+NUMTOT*NUMTRP)
      PARAMETER(TRPPRG_OFF=TRPPAD_OFF+NUMTRP)
      PARAMETER(TRPPRF_OFF=TRPPRG_OFF+NUMTRP)
      PARAMETER(TRPREF_OFF=TRPPRF_OFF+NUMTRP)
      PARAMETER(TRPERF_OFF=TRPREF_OFF+NUMTRP)
      PARAMETER(TRPTER_OFF=TRPERF_OFF+NUMTRP)
      PARAMETER(TRPWON_OFF=TRPTER_OFF+NUMTRP)
      PARAMETER(TRPPOL_OFF=TRPWON_OFF+NUMTRP)
      PARAMETER(TRPTPL_OFF=TRPPOL_OFF+2*NUMTRP)
      PARAMETER(TRPTBK_OFF=TRPTPL_OFF+NUMTRP)
      PARAMETER(TRPBRK_OFF=TRPTBK_OFF+NUMTRP)
      PARAMETER(TRPABW_OFF=TRPBRK_OFF+2*NUMTRP)

      INTEGER*4 TRPODS_OFF, TRPWIN_OFF, TRPHLD_OFF
      INTEGER*4 TRPTAX_OFF, TRPOTX_OFF, TRPMID_OFF, TRPUTX_OFF 
      INTEGER*4 TRPHST_OFF, TRPORM_OFF, TRPMNM_OFF, TRPENM_OFF
      INTEGER*4 TRPDES_OFF, TRPNMS_OFF, TRPPRC_OFF
      PARAMETER(TRPODS_OFF=TRPABW_OFF+NUMTRP)
      PARAMETER(TRPWIN_OFF=TRPODS_OFF+MAXTRPTI*NUMTRP)
      PARAMETER(TRPHLD_OFF=TRPWIN_OFF+3*MAXTRPTI*NUMTRP)
      PARAMETER(TRPTAX_OFF=TRPHLD_OFF+3*MAXTRPTI*NUMTRP)
      PARAMETER(TRPOTX_OFF=TRPTAX_OFF+NUMTRP)
      PARAMETER(TRPMID_OFF=TRPOTX_OFF+NUMTOT*NUMTRP)
      PARAMETER(TRPUTX_OFF=TRPMID_OFF+NUMTOT*NUMTRP)
      PARAMETER(TRPHST_OFF=TRPUTX_OFF+NUMTOT*NUMTRP)
      PARAMETER(TRPORM_OFF=TRPHST_OFF+MAXTRPTI*NUMTRP)
      PARAMETER(TRPMNM_OFF=TRPORM_OFF+NUMTOT*NUMTRP)
      PARAMETER(TRPENM_OFF=TRPMNM_OFF+(TRPENM_LEN/4)*NUMTRP)
      PARAMETER(TRPDES_OFF=TRPENM_OFF + (TRPENM_LEN/4)*3*NUMTRP)
      PARAMETER(TRPNMS_OFF=TRPDES_OFF + (TRPDES_LEN/4)*3*NUMTRP)

      INTEGER*4 TRPSTA_OFF, TRPEST_OFF, TRPSBR_OFF, TRPREV_OFF
      INTEGER*4 TRPPFN_OFF, TRPSPR_OFF
      INTEGER*4 TRPEVD_OFF, TRPEVT_OFF
      PARAMETER(TRPSTA_OFF=TRPNMS_OFF + 
     *			   ((TRPNMS_LEN/4)*MAXTRPRW*3*NUMTRP))
      PARAMETER(TRPEST_OFF=TRPSTA_OFF+MAXTRPRW*3*NUMTRP)
      PARAMETER(TRPEVD_OFF=TRPEST_OFF+3*NUMTRP)
      PARAMETER(TRPEVT_OFF=TRPEVD_OFF+3*NUMTRP)
      PARAMETER(TRPSBR_OFF=TRPEVT_OFF+3*NUMTRP)
      PARAMETER(TRPREV_OFF=TRPSBR_OFF+MAXTRPRW*3*NUMTRP)
      PARAMETER(TRPPFN_OFF=TRPREV_OFF+NUMTRP)
      PARAMETER(TRPPRC_OFF=TRPPFN_OFF+5*NUMTRP)
      PARAMETER(TRPSPR_OFF=TRPPRC_OFF+NUMTRP)

      INTEGER*4 TRPRWS_OFF, TRPWCP_OFF, TRPWBT_OFF
      PARAMETER(TRPRWS_OFF = TRPSPR_OFF + NUMTRP)
      PARAMETER(TRPWCP_OFF = TRPRWS_OFF + 3*NUMTRP)
      PARAMETER(TRPWBT_OFF = TRPWCP_OFF + MAXTRPTI*NUMTRP)


      INTEGER*4 TRPWRO_OFF, TRPWRA_OFF, TRPWPO_OFF, TRPWPA_OFF
      INTEGER*4 TRPWPR_OFF
      PARAMETER(TRPWRO_OFF = TRPWBT_OFF + NUMTOT*MAXTRPTI*NUMTRP)
      PARAMETER(TRPWRA_OFF = TRPWRO_OFF + NUMTOT*2*NUMTRP)
      PARAMETER(TRPWPO_OFF = TRPWRA_OFF + NUMTOT*2*NUMTRP)
      PARAMETER(TRPWPA_OFF = TRPWPO_OFF + NUMTOT*2*NUMTRP)
      PARAMETER(TRPWPR_OFF = TRPWPA_OFF + NUMTOT*2*NUMTRP)
C
      INTEGER*4 TRPCMB_OFF
      PARAMETER(TRPCMB_OFF = TRPWPR_OFF + NUMTOT*2*NUMTRP)

      INTEGER*4 TRPLAT_OFF
      PARAMETER(TRPLAT_OFF = TRPCMB_OFF + NUMTRP)

      INTEGER*4 TRPFRE_OFF
      PARAMETER(TRPFRE_OFF = TRPLAT_OFF + NUMLAT*NUMTRP)

      INTEGER*4 TRPSEC_SIZE, TRPSEC_NUM, TRPLEN
      PARAMETER(TRPSEC_SIZE = 2048)
      PARAMETER(TRPSEC_NUM = NINT(FLOAT((TRPFRE_OFF-2)/
     *                       TRPSEC_SIZE)+.5))
      PARAMETER(TRPLEN = TRPSEC_SIZE * TRPSEC_NUM)

        COMMON /TRPCOM/
     *   TRPSTS(NUMTRP),
     *   TRPWEK(NUMTRP),
     *   TRPDAT(NUMTRP),
     *   TRPDRW(NUMTRP),
     *   TRPBSD(NUMTRP),
     *   TRPESD(NUMTRP),
     *   TRPPUP(NUMTRP),
     *   TRPUPD(NUMTRP),
     *   TRPCTM(NUMTRP),
     *   TRPTIM(NUMTRP),
     *   TRPSER(NUMTRP),
     *   TRPSAL(NUMTOT,NUMTRP),
     *   TRPPAD(NUMTRP),
     *   TRPPRG(NUMTRP),
     *   TRPPRF(NUMTRP),
     *   TRPREF(NUMTRP)
  
      COMMON /TRPCOM/
     *   TRPERF(NUMTRP),
     *   TRPTER(NUMTRP),
     *   TRPWON(NUMTRP),
     *   TRPPOL(2,NUMTRP),
     *   TRPTPL(NUMTRP),
     *   TRPTBK(NUMTRP),
     *   TRPBRK(2,NUMTRP),
     *   TRPABW(NUMTRP),
     *   TRPODS(MAXTRPTI,NUMTRP),
     *   TRPWIN(3,MAXTRPTI,NUMTRP),
     *   TRPHLD(3,MAXTRPTI,NUMTRP),
     *   TRPTAX(NUMTRP)

        COMMON /TRPCOM/
     *   TRPOTX(NUMTOT,NUMTRP),
     *   TRPMID(NUMTOT,NUMTRP),
     *   TRPUTX(NUMTOT,NUMTRP),
     *   TRPHST(MAXTRPTI,NUMTRP),
     *   TRPORM(NUMTOT,NUMTRP),
     *   TRPMNM(TRPENM_LEN/4,NUMTRP),
     *   TRPENM(TRPENM_LEN/4,3,NUMTRP),
     *   TRPDES(TRPDES_LEN/4,3,NUMTRP),
     *   TRPNMS(TRPNMS_LEN/4,MAXTRPRW,3,NUMTRP),
     *   TRPSTA(MAXTRPRW,3,NUMTRP),
     *   TRPEST(3,NUMTRP),
     *   TRPEVD(3,NUMTRP),
     *   TRPEVT(3,NUMTRP),
     *   TRPSBR(MAXTRPRW,3,NUMTRP)

        COMMON /TRPCOM/
     *   TRPREV(NUMTRP),
     *   TRPPFN(5,NUMTRP),
     *   TRPPRC(NUMTRP),
     *   TRPSPR(NUMTRP)

       COMMON /TRPCOM/
     *   TRPRWS(3,NUMTRP),
     *   TRPWCP(MAXTRPTI,NUMTRP),
     *   TRPWBT(NUMTOT,MAXTRPTI,NUMTRP),
     *   TRPWRO(NUMTOT,2,NUMTRP),
     *   TRPWRA(NUMTOT,2,NUMTRP),
     *   TRPWPO(NUMTOT,2,NUMTRP),
     *   TRPWPA(NUMTOT,2,NUMTRP),
     *   TRPWPR(NUMTOT,2,NUMTRP),
     *   TRPCMB(NUMTRP),
     *   TRPLAT(NUMLAT,NUMTRP),
     *   TRPFRE(TRPLEN - TRPFRE_OFF + 1)

        INTEGER*4 TRPSTS,TRPWEK,TRPDAT,TRPBSD,TRPESD,TRPCTM,TRPTIM
        INTEGER*4 TRPSAL,TRPPAD,TRPPRG,TRPREF,TRPWON,TRPPOL,TRPTPL
        INTEGER*4 TRPTBK,TRPBRK,TRPABW,TRPODS,TRPWIN,TRPHLD,TRPTAX
        INTEGER*4 TRPOTX,TRPMID,TRPUTX,TRPHST,TRPORM,TRPENM
        INTEGER*4 TRPDES,TRPNMS,TRPREV,TRPFRE,TRPPUP,TRPUPD,TRPSTA
        INTEGER*4 TRPSBR,TRPPFN,TRPDRW,TRPSER,TRPPRF,TRPERF,TRPMNM
        INTEGER*4 TRPTER,TRPSPR,TRPPRC,TRPEST,TRPEVD,TRPEVT
	INTEGER*4 TRPRWS,TRPWCP,TRPWBT
        INTEGER*4 TRPWRO,TRPWRA,TRPWPO,TRPWPA,TRPWPR
        INTEGER*4 TRPCMB,TRPLAT

C EQUIVALENCE FOR CHECKPOINT

        INTEGER*4 TRPCSB,TRPBLK
        PARAMETER(TRPCSB = TRPSEC_NUM) 
        DIMENSION TRPBLK(2048,TRPCSB)
        EQUIVALENCE(TRPBLK(1,1),TRPSTS(1))

        VOLATILE /TRPCOM/

        INTEGER*4        FRST_TRPCOM(2)
        EQUIVALENCE     (FRST_TRPCOM, TRPBLK(1,1))
        INTEGER*4        LAST_TRPCOM
        EQUIVALENCE     (LAST_TRPCOM, TRPBLK(2048,TRPCSB))
