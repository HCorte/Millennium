C TSTREC.DEF
C
C V01 13-MAY-1999 UXN INITIAL RELEASE.
C 
C SUPER TRIPLE GAME DATA FILE RECORD LAYOUT (DISK)
C
C
C     TSTSTS                         ; GAME STATUS
C     TSTWEK                         ; WEEK NUMBER
C     TSTDAT                         ; DRAW DATE
C     TSTDRW                         ; DRAW NUMBER
C     TSTBSD                         ; BEGINNING SALES DATE
C     TSTESD                         ; ENDING SALES DATE
C     TSTPUP                         ; LAST PRUGE UPDATE  (FILE ONLY)
C     TSTUPD                         ; LAST FILE UPDATE   (FILE ONLY)
C     TSTCTM                         ; ACTUAL TIME WHEN CLOSED
C     TSTTIM                         ; TIME WHEN GAME SHOULD CLOSE
C     TSTSER                         ; LAST SERIAL NUMBER
C     TSTSAL(NUMTOT)                 ; TOTAL SALES (COUNT , AMOUNT)
C     TSTPAD                         ; PRIZES PAID + REFUNDS
C     TSTPRG                         ; PRIZES PURGED
C     TSTPRF                         ; PAID REFUNDS
C     TSTREF                         ; TOTAL REFUND AMOUNT
C     TSTERF                         ; EARLY REFUNDS PAID
C     TSTTER                         ; TOTAL EARLY REFUNDS (LIAB)
C     TSTWON                         ; PRIZES WON
C     TSTPOL(2)                      ; ROLL POOL
C     TSTTPL                         ; TOTAL PRIZE POOL
C     TSTTBK                         ; TOTAL BREAKAGE
C     TSTBRK(2)                      ; WINNING ROUNDING POT
C     TSTABW                         ; AMOUNT BET ON WINNING SCORE
C     TSTODS(MAXSTRTI)               ; WINNING ODDS
C     TSTWIN(3,MAXSTRTI)             ; WINNING RESULTS
C     TSTHLD(3,MAXSTRTI)             ; WINNING RESULTS HOLD
C     TSTTAX                         ; WINNING TAXES
C     TSTOTX(NUMTOT)                 ; OVER TAX LIMIT
C     TSTMID(NUMTOT)                 ; >REDMIN <REDMAX
C     TSTUTX(NUMTOT)                 ; UNDER TAX LIMIT
C     TSTHST(MAXSTRTI)               ; HIGHEST WINNER PER WINING COMB
C     TSTORM(NUMTOT)                 ; OVER REDMAX
C     TSTENM(STRENM_LEN/4)           ; EVENT NAME
C     TSTDES(STRDES_LEN/4)           ; GAME DESCRIPTION
C     TSTNMS(STRNMS_LEN/4,MAXSTRRW)  ; ROW NAMES
C     TSTSTA(MAXSTRRW)               ; ROW STATUS 1 THROUGH MAXTRW
C     TSTSBR(MAXSTRRW)               ; SALES BY ROW TABLE
C     TSTREV                         ; REV #
C     TSTPFN(5)                      ; POOL FILE NAME
C     TSTRTM(MAXSTRRW)               ; ROW CLOSE TIMES
C     TSTPRC                         ; BASE PRICE
C     TSTSPR                         ; POOL PERCENTAGE
C     TSTTVC(STRTVC_LEN/4)    	     ; TV-CHANEL NAME
C     TSTMDS(MAXMLTD_AVL)	     ; MULTI DRAW SELECTED TABLE
C                                      (52 BYTE / 4 = 13)
C     TSTRWS			     ; ACTUAL # OF ROWS USED.
C     TSTWCP(MAXSTRTI)		     ; # WINNING COUPONS PALYED.
C     TSTWBT(NUMTOT,MAXSTRTI)        ; CNT, AMT PLAYED.
C     TSTWRO(NUMTOT,2)               ; WINNING: COUNT,AMOUNT REFUNDS ONLY
C     TSTWRA(NUMTOT,2)               ; WINNING: COUNT,AMOUNT REFUNDS ALTOGETHER
C     TSTWPO(NUMTOT,2)               ; WINNING: COUNT,AMOUNT PRIZES ONLY
C     TSTWPA(NUMTOT,2)               ; WINNING: COUNT,AMOUNT PRIZES ALTOGETHER
C     TSTWPR(NUMTOT,2)               ; WINNING: COUNT,AMOUNT PRIZES AND REFUNDS
C                                    ; (1=PRWON,2=PRPAD)
C     TSTPCC			     ; Partially closed combinations. If this
C                                    ; field is set to 1 then combinations 
C                                    ; xx-16-xx, xx-xx-16, 17-xx-xx, xx-xx-17,
C                                    ; 18-xx-xx, xx-18-xx cannot be played.
C     TSTCMB                         ; NUMBER OF WINNING COMBINATIONS.
C
C DOUBLE GAME FILE PARAMETERS
C
C+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
C This item is the property of GTECH Corporation, Providence, Rhode
C Island, and contains confidential and trade secret information. It
C may not be transferred from the custody or control of GTECH except
C as authorized in writing by an officer of GTECH. Neither this item
C nor the information it contains may be used, transferred,
C reproduced, published, or disclosed, in whole or in part, and
C directly or indirectly, except as expressly authorized by an
C officer of GTECH, pursuant to written agreement.
C
C Copyright 1999 GTECH Corporation. All rights reserved.
C+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
C
C
	INTEGER*4 TSTSTS,TSTWEK,TSTDAT,TSTBSD,TSTESD,TSTCTM,TSTTIM
	INTEGER*4 TSTSAL(NUMTOT),TSTPAD,TSTPRG,TSTREF,TSTWON,TSTPOL(2)
        INTEGER*4 TSTTPL
	INTEGER*4 TSTTBK,TSTBRK(2),TSTABW
	INTEGER*4 TSTODS(MAXSTRTI),TSTWIN(3,MAXSTRTI)
	INTEGER*4 TSTTAX,TSTOTX(NUMTOT),TSTHLD(3,MAXSTRTI)
	INTEGER*4 TSTMID(NUMTOT),TSTUTX(NUMTOT)
	INTEGER*4 TSTHST(MAXSTRTI),TSTORM(2)
	INTEGER*4 TSTENM(STRENM_LEN/4)
	INTEGER*4 TSTDES(STRDES_LEN/4)
	INTEGER*4 TSTNMS(STRNMS_LEN/4,MAXSTRRW)
	INTEGER*4 TSTREV,TSTPUP,TSTUPD,TSTSTA(MAXSTRRW)
	INTEGER*4 TSTSBR(MAXSTRRW),TSTPFN(5),TSTERF,TSTTER,TSTDRW
	INTEGER*4 TSTRTM(MAXSTRRW),TSTSER,TSTPRF,TSTSPR,TSTPRC
	INTEGER*4 TSTTVC(STRTVC_LEN/4)

	BYTE	  TSTMDS(MAXMLTD_AVL)

	INTEGER*4 TSTRWS,TSTWCP(MAXSTRTI),TSTWBT(NUMTOT,MAXSTRTI)
        INTEGER*4 TSTWRO(NUMTOT,2),TSTWRA(NUMTOT,2),TSTWPO(NUMTOT,2)
        INTEGER*4 TSTWPA(NUMTOT,2),TSTWPR(NUMTOT,2)
	INTEGER*4 TSTPCC,TSTCMB
C
C OFFSET PARAMETERS AND EQUIVALENCES
C
	INTEGER*4 TSTSTS_OFF, TSTWEK_OFF, TSTDAT_OFF, TSTDRW_OFF
	PARAMETER(TSTSTS_OFF = 1)					!001
	PARAMETER(TSTWEK_OFF = TSTSTS_OFF + 1)				!002
	PARAMETER(TSTDAT_OFF = TSTWEK_OFF + 1)				!003
	PARAMETER(TSTDRW_OFF = TSTDAT_OFF + 1)				!004

	INTEGER*4 TSTBSD_OFF, TSTESD_OFF, TSTPUP_OFF, TSTUPD_OFF
	PARAMETER(TSTBSD_OFF = TSTDRW_OFF + 1)				!005
	PARAMETER(TSTESD_OFF = TSTBSD_OFF + 1)				!006
	PARAMETER(TSTPUP_OFF = TSTESD_OFF + 1)				!007
	PARAMETER(TSTUPD_OFF = TSTPUP_OFF + 1)				!008

	INTEGER*4 TSTCTM_OFF, TSTTIM_OFF, TSTSER_OFF, TSTSAL_OFF
	PARAMETER(TSTCTM_OFF = TSTUPD_OFF + 1)				!009
	PARAMETER(TSTTIM_OFF = TSTCTM_OFF + 1)				!010
	PARAMETER(TSTSER_OFF = TSTTIM_OFF + 1)				!011
	PARAMETER(TSTSAL_OFF = TSTSER_OFF + 1)   			!012
C
	INTEGER*4 TSTPAD_OFF, TSTPRG_OFF, TSTPRF_OFF, TSTREF_OFF
	PARAMETER(TSTPAD_OFF = TSTSAL_OFF + NUMTOT)			!014
	PARAMETER(TSTPRG_OFF = TSTPAD_OFF + 1)				!015
	PARAMETER(TSTPRF_OFF = TSTPRG_OFF + 1)				!016
	PARAMETER(TSTREF_OFF = TSTPRF_OFF + 1)				!017
C
	INTEGER*4 TSTERF_OFF, TSTTER_OFF, TSTWON_OFF, TSTPOL_OFF
	PARAMETER(TSTERF_OFF = TSTREF_OFF + 1)				!018
	PARAMETER(TSTTER_OFF = TSTERF_OFF + 1)				!019
	PARAMETER(TSTWON_OFF = TSTTER_OFF + 1)				!020
	PARAMETER(TSTPOL_OFF = TSTWON_OFF + 1)				!021
C
	INTEGER*4 TSTTPL_OFF, TSTTBK_OFF, TSTBRK_OFF, TSTABW_OFF
	PARAMETER(TSTTPL_OFF = TSTPOL_OFF + 2)				!023
	PARAMETER(TSTTBK_OFF = TSTTPL_OFF + 1)				!024
	PARAMETER(TSTBRK_OFF = TSTTBK_OFF + 1)				!025
	PARAMETER(TSTABW_OFF = TSTBRK_OFF + 2)				!027
C
	INTEGER*4 TSTODS_OFF, TSTWIN_OFF, TSTHLD_OFF, TSTTAX_OFF
	PARAMETER(TSTODS_OFF = TSTABW_OFF + 1)				!028
	PARAMETER(TSTWIN_OFF = TSTODS_OFF + MAXSTRTI)				!040
	PARAMETER(TSTHLD_OFF = TSTWIN_OFF + 3*MAXSTRTI)			!052
	PARAMETER(TSTTAX_OFF = TSTHLD_OFF + 3*MAXSTRTI)			!076
C
	INTEGER*4 TSTOTX_OFF, TSTMID_OFF, TSTUTX_OFF, TSTHST_OFF
	PARAMETER(TSTOTX_OFF = TSTTAX_OFF + 1)				!077
	PARAMETER(TSTMID_OFF = TSTOTX_OFF + NUMTOT)			!079
	PARAMETER(TSTUTX_OFF = TSTMID_OFF + NUMTOT)			!081
	PARAMETER(TSTHST_OFF = TSTUTX_OFF + NUMTOT)			!083
C
	INTEGER*4 TSTORM_OFF, TSTENM_OFF, TSTDES_OFF, TSTNMS_OFF
	PARAMETER(TSTORM_OFF = TSTHST_OFF + MAXSTRTI)				!096
	PARAMETER(TSTENM_OFF = TSTORM_OFF + NUMTOT)			!098
	PARAMETER(TSTDES_OFF = TSTENM_OFF + (STRENM_LEN/4))		!104
	PARAMETER(TSTNMS_OFF = TSTDES_OFF + (STRDES_LEN/4))		!134
C
	INTEGER*4 TSTSTA_OFF, TSTSBR_OFF, TSTREV_OFF, TSTPFN_OFF
	PARAMETER(TSTSTA_OFF = TSTNMS_OFF + (STRNMS_LEN/4)*MAXSTRRW)	!278
	PARAMETER(TSTSBR_OFF = TSTSTA_OFF + MAXSTRRW)			!314
	PARAMETER(TSTREV_OFF = TSTSBR_OFF + MAXSTRRW)			!350
	PARAMETER(TSTPFN_OFF = TSTREV_OFF + 1)				!351
C
	INTEGER*4 TSTRTM_OFF, TSTPRC_OFF, TSTSPR_OFF, TSTTVC_OFF
	PARAMETER(TSTRTM_OFF = TSTPFN_OFF + 5)				!356
	PARAMETER(TSTPRC_OFF = TSTRTM_OFF + MAXSTRRW)			!392
	PARAMETER(TSTSPR_OFF = TSTPRC_OFF + 1)				!393
	PARAMETER(TSTTVC_OFF = TSTSPR_OFF + 1)				!394 
C
	INTEGER*4 TSTMDS_OFF
	PARAMETER(TSTMDS_OFF = TSTTVC_OFF + (STRTVC_LEN/4))		
C
        INTEGER*4 TSTWRO_OFF, TSTWRA_OFF, TSTWPO_OFF, TSTWPA_OFF
        INTEGER*4 TSTWPR_OFF, TSTRWS_OFF, TSTWCP_OFF
        INTEGER*4 TSTWBT_OFF
	PARAMETER(TSTRWS_OFF = TSTMDS_OFF + (MAXMLTD_AVL/4))
	PARAMETER(TSTWCP_OFF = TSTRWS_OFF + 1)
	PARAMETER(TSTWBT_OFF = TSTWCP_OFF + MAXSTRTI)
        PARAMETER(TSTWRO_OFF = TSTWBT_OFF + NUMTOT*MAXSTRTI)
        PARAMETER(TSTWRA_OFF = TSTWRO_OFF + 2*NUMTOT)
        PARAMETER(TSTWPO_OFF = TSTWRA_OFF + 2*NUMTOT)
        PARAMETER(TSTWPA_OFF = TSTWPO_OFF + 2*NUMTOT)
        PARAMETER(TSTWPR_OFF = TSTWPA_OFF + 2*NUMTOT) 

	INTEGER*4 TSTPCC_OFF
	PARAMETER(TSTPCC_OFF =  TSTWPR_OFF + 2*NUMTOT) 

	INTEGER*4 TSTCMB_OFF
	PARAMETER(TSTCMB_OFF = TSTPCC_OFF + 1)

	INTEGER*4 TSTFRE_OFF
	PARAMETER(TSTFRE_OFF = TSTCMB_OFF + 1)
C
C CALCULATE FREE SPACE BASED ON MACHINE DEPENDENT SECTOR SIZES.
C SHOULD ALLWAYS ADD UP TO A EVEN SECTOR SIZE BYTES (VAX 512).
C NOTE! IN CALCULATIONS, FRE_OFF-2 IS DONE TO TAKE CARE OF WHEN THE DATA SIZE
C       ENDS ON A EVEN SECTOR SIZE.
C
        INTEGER*4 TSTSEC_VAX, TSTSEC_NUM
        PARAMETER (TSTSEC_VAX = SECSIZE/4)
	PARAMETER (TSTSEC_NUM = NINT(FLOAT((TSTFRE_OFF-2)/TSTSEC_VAX)+.5))
C
        INTEGER*4 TSTLEN, TSTSEC
        PARAMETER(TSTLEN = TSTSEC_VAX * TSTSEC_NUM)        ! even sector size
        PARAMETER(TSTSEC = TSTLEN/64)
C
        INTEGER*4 TSTREC(TSTLEN)
C
	EQUIVALENCE(TSTSTS,TSTREC(TSTSTS_OFF))
	EQUIVALENCE(TSTWEK,TSTREC(TSTWEK_OFF))
	EQUIVALENCE(TSTDAT,TSTREC(TSTDAT_OFF))
	EQUIVALENCE(TSTDRW,TSTREC(TSTDRW_OFF))
	EQUIVALENCE(TSTBSD,TSTREC(TSTBSD_OFF))
	EQUIVALENCE(TSTESD,TSTREC(TSTESD_OFF))
	EQUIVALENCE(TSTPUP,TSTREC(TSTPUP_OFF))
	EQUIVALENCE(TSTUPD,TSTREC(TSTUPD_OFF))
	EQUIVALENCE(TSTCTM,TSTREC(TSTCTM_OFF))
	EQUIVALENCE(TSTTIM,TSTREC(TSTTIM_OFF))
	EQUIVALENCE(TSTSER,TSTREC(TSTSER_OFF))
	EQUIVALENCE(TSTSAL,TSTREC(TSTSAL_OFF))
	EQUIVALENCE(TSTPAD,TSTREC(TSTPAD_OFF))
	EQUIVALENCE(TSTPRG,TSTREC(TSTPRG_OFF))
	EQUIVALENCE(TSTPRF,TSTREC(TSTPRF_OFF))
	EQUIVALENCE(TSTREF,TSTREC(TSTREF_OFF))
	EQUIVALENCE(TSTERF,TSTREC(TSTERF_OFF))
	EQUIVALENCE(TSTTER,TSTREC(TSTTER_OFF))
	EQUIVALENCE(TSTWON,TSTREC(TSTWON_OFF))
	EQUIVALENCE(TSTPOL,TSTREC(TSTPOL_OFF))
	EQUIVALENCE(TSTTPL,TSTREC(TSTTPL_OFF))
	EQUIVALENCE(TSTTBK,TSTREC(TSTTBK_OFF))
	EQUIVALENCE(TSTBRK,TSTREC(TSTBRK_OFF))
	EQUIVALENCE(TSTABW,TSTREC(TSTABW_OFF))
	EQUIVALENCE(TSTODS,TSTREC(TSTODS_OFF))
	EQUIVALENCE(TSTWIN,TSTREC(TSTWIN_OFF))
	EQUIVALENCE(TSTHLD,TSTREC(TSTHLD_OFF))
	EQUIVALENCE(TSTTAX,TSTREC(TSTTAX_OFF))
	EQUIVALENCE(TSTOTX,TSTREC(TSTOTX_OFF))
	EQUIVALENCE(TSTMID,TSTREC(TSTMID_OFF))
	EQUIVALENCE(TSTUTX,TSTREC(TSTUTX_OFF))
	EQUIVALENCE(TSTHST,TSTREC(TSTHST_OFF))
	EQUIVALENCE(TSTORM,TSTREC(TSTORM_OFF))
	EQUIVALENCE(TSTENM,TSTREC(TSTENM_OFF))
	EQUIVALENCE(TSTDES,TSTREC(TSTDES_OFF))
	EQUIVALENCE(TSTNMS,TSTREC(TSTNMS_OFF))
	EQUIVALENCE(TSTSTA,TSTREC(TSTSTA_OFF))
	EQUIVALENCE(TSTSBR,TSTREC(TSTSBR_OFF))
	EQUIVALENCE(TSTREV,TSTREC(TSTREV_OFF))
	EQUIVALENCE(TSTPFN,TSTREC(TSTPFN_OFF))
	EQUIVALENCE(TSTRTM,TSTREC(TSTRTM_OFF))
	EQUIVALENCE(TSTPRC,TSTREC(TSTPRC_OFF))
	EQUIVALENCE(TSTSPR,TSTREC(TSTSPR_OFF))
	EQUIVALENCE(TSTTVC,TSTREC(TSTTVC_OFF))
	EQUIVALENCE(TSTMDS,TSTREC(TSTMDS_OFF))
	EQUIVALENCE(TSTRWS,TSTREC(TSTRWS_OFF))
	EQUIVALENCE(TSTWCP,TSTREC(TSTWCP_OFF))
	EQUIVALENCE(TSTWBT,TSTREC(TSTWBT_OFF))
        EQUIVALENCE(TSTWRO,TSTREC(TSTWRO_OFF))
        EQUIVALENCE(TSTWRA,TSTREC(TSTWRA_OFF))
        EQUIVALENCE(TSTWPO,TSTREC(TSTWPO_OFF))
        EQUIVALENCE(TSTWPA,TSTREC(TSTWPA_OFF))
        EQUIVALENCE(TSTWPR,TSTREC(TSTWPR_OFF))
        EQUIVALENCE(TSTPCC,TSTREC(TSTPCC_OFF))
        EQUIVALENCE(TSTCMB,TSTREC(TSTCMB_OFF))
