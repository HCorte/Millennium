C DTRREC.DEF
C
C V04 30-JUN-2000 UXN DTRLAT added.
C V03 28-MAY-1999 UXN DTRCMB added. DTRWIN, DTRHLD RESTRUCTURED.
C V02 10-MAY-1999 UXN TRIPLE CHANGED TO TRIO
C V01 23-DEC-1997 RXK Initial release.
C  
C  
C TODAY'S TRIO GAME DATA FILE RECORD LAYOUT (DISK)
C
C
C
C     DTRSTS                         ; GAME STATUS
C     DTRWEK                         ; WEEK NUMBER
C     DTRDAT                         ; DRAW DATE
C     DTRDRW                         ; DRAW NUMBER
C     DTRBSD                         ; BEGINNING SALES DATE
C     DTRESD                         ; ENDING SALES DATE
C     DTRPUP                         ; LAST PRUGE UPDATE  (FILE ONLY)
C     DTRUPD                         ; LAST FILE UPDATE   (FILE ONLY)
C     DTRCTM                         ; ACTUAL TIME WHEN CLOSED
C     DTRTIM                         ; TIME WHEN GAME SHOULD CLOSE
C     DTRSER                         ; LAST SERIAL NUMBER
C     DTRSAL(NUMTOT)                 ; TOTAL SALES (COUNT , AMOUNT)
C     DTRPAD                         ; PRIZES PAID + REFUNDS
C     DTRPRG                         ; PRIZES PURGED
C     DTRPRF                         ; PAID REFUNDS
C     DTRREF                         ; TOTAL REFUND AMOUNT
C     DTRERF                         ; EARLY REFUNDS PAID
C     DTRTER                         ; TOTAL EARLY REFUNDS (LIAB)
C     DTRWON                         ; PRIZES WON
C     DTRPOL(2)                      ; ROLL POOL
C     DTRTPL                         ; TOTAL PRIZE POOL
C     DTRTBK                         ; TOTAL BREAKAGE
C     DTRBRK(2)                      ; WINNING ROUNDING POT
C     DTRABW                         ; AMOUNT BET ON WINNING SCORE
C     DTRODS(MAXTRPTI)               ; WINNING ODDS
C     DTRWIN(3,MAXTRPTI)             ; WINNING RESULTS 
C     DTRHLD(3,MAXTRPTI)             ; WINNING RESULTS HOLD
C     DTRTAX                         ; WINNING TAXES
C     DTROTX(NUMTOT)                 ; OVER TAX LIMIT
C     DTRMID(NUMTOT)                 ; >REDMIN <REDMAX
C     DTRUTX(NUMTOT)                 ; UNDER TAX LIMIT
C     DTRHST(MAXTRPTI)               ; HIGHEST WINNER PER WINING COMB
C     DTRORM(NUMTOT)                 ; OVER REDMAX
C     DTRMNM(TRPENM_LEN/4)           ; MASTER EVENT NAME
C     DTRENM(TRPENM_LEN/4,3)         ; EVENT NAME
C     DTRDES(TRPDES_LEN/4,3)         ; EVENT DESCRIPTION
C     DTRNMS(TRPNMS_LEN/4,MAXTRPRW,3); ROW NAMES
C     DTRSTA(MAXTRPRW,3)             ; ROW STATUS'S
C     DTREST(3)			     ; EVENT STATUS
C     DTREVD(3)			     ; EVENT BEGIN DATE
C     DTRETT(3)			     ; EVENT BEGIN TIME
C     DTRSBR(MAXTRPRW,3)             ; SALES BY ROW TABLE
C     DTRREV                         ; REV #
C     DTRPFN(5)                      ; POOL FILE NAME
C     DTRPRC                         ; BASE PRICE
C     DTRSPR                         ; POOL PERCENTAGE
C     DTRRWS(3)			     ; ACTUAL # OF ROWS USED.
C     DTRWCP(MAXTRPTI)		     ; # WINNING COUPONS PLAYED
C     DTRWBT(NUMTOT,MAXTRPTI)        ; CNT, AMT WINNERS PLAYED
C     DTRWRO(NUMTOT,2)               ; WINNING: COUNT,AMOUNT REFUNDS ONLY
C     DTRWRA(NUMTOT,2)               ; WINNING: COUNT,AMOUNT REFUNDS ALTOGETHER
C     DTRWPO(NUMTOT,2)               ; WINNING: COUNT,AMOUNT PRIZES ONLY
C     DTRWPA(NUMTOT,2)               ; WINNING: COUNT,AMOUNT PRIZES ALTOGETHER
C     DTRWPR(NUMTOT,2)               ; WINNING: COUNT,AMOUNT PRIZES AND REFUNDS
C                                    ; (1=PRWON,2=PRPAD)
C     DTRCMB                         ; NUMBER OF WINNING COMBINATIONS
C     DTRLAT(NUMLAT)                 ; EVENT STARTED BEFORE GAME WAS CLOSED
C                                    ; TICKETS PLAYED LATER SHOULD BE REFUNDED.
C
C WINNERS GAME FILE PARAMETERS
C
C
C
C+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
C This item is the property of GTECH Corporation, Providence, Rhode
C Island, and contains confidential and trade secret information. It
C may not be transferred from the custody or control of GTECH except
C as authorized in writing by an officer of GTECH. Neither this item
C nor the information it contains may be used, transferred,
C reproduced, published, or disclosed, in whole or in part, and
C directly or indirectly, except as expressly authorized by an
C officer of GTECH, pursuant to written agreement.
C
C Copyright 1996 GTECH Corporation. All rights reserved.
C+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
C
C
	INTEGER*4 DTRSTS,DTRWEK,DTRDAT,DTRBSD,DTRESD,DTRCTM,DTRTIM
	INTEGER*4 DTRSAL(NUMTOT),DTRPAD,DTRPRG,DTRREF,DTRWON,DTRPOL(2),DTRTPL
	INTEGER*4 DTRTBK,DTRBRK(2),DTRABW,DTRODS(MAXTRPTI),DTRWIN(3,MAXTRPTI)
	INTEGER*4 DTRTAX,DTROTX(NUMTOT),DTRHLD(3,MAXTRPTI)
	INTEGER*4 DTRMID(NUMTOT),DTRUTX(NUMTOT),DTRHST(MAXTRPTI),DTRORM(2)
	INTEGER*4 DTRMNM(TRPENM_LEN/4),DTRENM(TRPENM_LEN/4,3)
	INTEGER*4 DTRDES(TRPDES_LEN/4,3)
	INTEGER*4 DTRNMS(TRPNMS_LEN/4,MAXTRPRW,3)
	INTEGER*4 DTRREV,DTRPUP,DTRUPD,DTRSTA(MAXTRPRW,3),DTREST(3)
	INTEGER*4 DTREVD(3),DTREVT(3)
	INTEGER*4 DTRSBR(MAXTRPRW,3),DTRPFN(5),DTRERF,DTRTER,DTRDRW
	INTEGER*4 DTRSER,DTRPRF,DTRSPR,DTRPRC
	INTEGER*4 DTRRWS(3),DTRWCP(MAXTRPTI),DTRWBT(NUMTOT,MAXTRPTI)
        INTEGER*4 DTRWRO(NUMTOT,2),DTRWRA(NUMTOT,2),DTRWPO(NUMTOT,2)
        INTEGER*4 DTRWPA(NUMTOT,2),DTRWPR(NUMTOT,2),DTRCMB,DTRLAT(NUMLAT)
C
C OFFSET PARAMETERS AND EQUIVALENCES
C
	INTEGER*4 DTRSTS_OFF, DTRWEK_OFF, DTRDAT_OFF, DTRDRW_OFF
	PARAMETER(DTRSTS_OFF = 1)					!001
	PARAMETER(DTRWEK_OFF = DTRSTS_OFF + 1)				!002
	PARAMETER(DTRDAT_OFF = DTRWEK_OFF + 1)				!003
	PARAMETER(DTRDRW_OFF = DTRDAT_OFF + 1)				!004
C
	INTEGER*4 DTRBSD_OFF, DTRESD_OFF, DTRPUP_OFF, DTRUPD_OFF
	PARAMETER(DTRBSD_OFF = DTRDRW_OFF + 1)				!005
	PARAMETER(DTRESD_OFF = DTRBSD_OFF + 1)				!006
	PARAMETER(DTRPUP_OFF = DTRESD_OFF + 1)				!007
	PARAMETER(DTRUPD_OFF = DTRPUP_OFF + 1)				!008
C
	INTEGER*4 DTRCTM_OFF, DTRTIM_OFF, DTRSER_OFF, DTRSAL_OFF
	PARAMETER(DTRCTM_OFF = DTRUPD_OFF + 1)				!009
	PARAMETER(DTRTIM_OFF = DTRCTM_OFF + 1)				!010
	PARAMETER(DTRSER_OFF = DTRTIM_OFF + 1)				!011
	PARAMETER(DTRSAL_OFF = DTRSER_OFF + 1)			        !012
C
	INTEGER*4 DTRPAD_OFF, DTRPRG_OFF, DTRPRF_OFF, DTRREF_OFF
	PARAMETER(DTRPAD_OFF = DTRSAL_OFF + NUMTOT)	                !014
	PARAMETER(DTRPRG_OFF = DTRPAD_OFF + 1)				!015
	PARAMETER(DTRPRF_OFF = DTRPRG_OFF + 1)				!016
	PARAMETER(DTRREF_OFF = DTRPRF_OFF + 1)				!017
C
	INTEGER*4 DTRERF_OFF, DTRTER_OFF, DTRWON_OFF, DTRPOL_OFF
	PARAMETER(DTRERF_OFF = DTRREF_OFF + 1)				!018
	PARAMETER(DTRTER_OFF = DTRERF_OFF + 1)				!019
	PARAMETER(DTRWON_OFF = DTRTER_OFF + 1)				!020
	PARAMETER(DTRPOL_OFF = DTRWON_OFF + 1)				!021
C
	INTEGER*4 DTRTPL_OFF, DTRTBK_OFF, DTRBRK_OFF, DTRABW_OFF
	PARAMETER(DTRTPL_OFF = DTRPOL_OFF + 2)				!023
	PARAMETER(DTRTBK_OFF = DTRTPL_OFF + 1)				!024
	PARAMETER(DTRBRK_OFF = DTRTBK_OFF + 1)				!025
	PARAMETER(DTRABW_OFF = DTRBRK_OFF + 2)				!027
C
	INTEGER*4 DTRODS_OFF, DTRWIN_OFF, DTRHLD_OFF, DTRTAX_OFF
	PARAMETER(DTRODS_OFF = DTRABW_OFF + 1)				!028
	PARAMETER(DTRWIN_OFF = DTRODS_OFF + MAXTRPTI)			!094
	PARAMETER(DTRHLD_OFF = DTRWIN_OFF + 3*MAXTRPTI)                 !106
	PARAMETER(DTRTAX_OFF = DTRHLD_OFF + 3*MAXTRPTI)  		!118

C
	INTEGER*4 DTROTX_OFF, DTRMID_OFF, DTRUTX_OFF, DTRHST_OFF
	PARAMETER(DTROTX_OFF = DTRTAX_OFF + 1)				!119
	PARAMETER(DTRMID_OFF = DTROTX_OFF + NUMTOT)			!121
	PARAMETER(DTRUTX_OFF = DTRMID_OFF + NUMTOT)			!123
	PARAMETER(DTRHST_OFF = DTRUTX_OFF + NUMTOT)			!125
C
	INTEGER*4 DTRORM_OFF, DTRMNM_OFF, DTRENM_OFF, DTRDES_OFF
        INTEGER*4 DTRNMS_OFF
	PARAMETER(DTRORM_OFF = DTRHST_OFF + MAXTRPTI)                   !189
	PARAMETER(DTRMNM_OFF = DTRORM_OFF + NUMTOT)			!191
	PARAMETER(DTRENM_OFF = DTRMNM_OFF + TRPENM_LEN/4)               !198
	PARAMETER(DTRDES_OFF = DTRENM_OFF + (TRPENM_LEN/4)*3)		!247
	PARAMETER(DTRNMS_OFF = DTRDES_OFF + (TRPDES_LEN/4)*3)		!268
C
	INTEGER*4 DTRSTA_OFF, DTRSBR_OFF, DTRREV_OFF, DTRPFN_OFF
	INTEGER*4 DTREST_OFF, DTREVD_OFF, DTREVT_OFF
	PARAMETER(DTRSTA_OFF = DTRNMS_OFF + (TRPNMS_LEN/4)*MAXTRPRW*3)	!412
	PARAMETER(DTREST_OFF = DTRSTA_OFF + MAXTRPRW*3)                 !460
	PARAMETER(DTREVD_OFF = DTREST_OFF + 3)				!463
	PARAMETER(DTREVT_OFF = DTREVD_OFF + 3)				!466
	PARAMETER(DTRSBR_OFF = DTREVT_OFF + 3)				!469
	PARAMETER(DTRREV_OFF = DTRSBR_OFF + MAXTRPRW*3)			!517
	PARAMETER(DTRPFN_OFF = DTRREV_OFF + 1)				!518
C
	INTEGER*4 DTRPRC_OFF, DTRSPR_OFF
	PARAMETER(DTRPRC_OFF = DTRPFN_OFF + 5)				!523
	PARAMETER(DTRSPR_OFF = DTRPRC_OFF + 1)				!524

        INTEGER*4 DTRWRO_OFF, DTRWRA_OFF, DTRWPO_OFF, DTRWPA_OFF
        INTEGER*4 DTRWPR_OFF, DTRRWS_OFF, DTRWCP_OFF
	INTEGER*4 DTRWBT_OFF
	PARAMETER(DTRRWS_OFF = DTRSPR_OFF + 1)				!525
	PARAMETER(DTRWCP_OFF = DTRRWS_OFF + 3)				!528
	PARAMETER(DTRWBT_OFF = DTRWCP_OFF + MAXTRPTI)			!592
        PARAMETER(DTRWRO_OFF = DTRWBT_OFF + NUMTOT*MAXTRPTI)		!720
        PARAMETER(DTRWRA_OFF = DTRWRO_OFF + 2*NUMTOT)			!724
        PARAMETER(DTRWPO_OFF = DTRWRA_OFF + 2*NUMTOT)			!728
        PARAMETER(DTRWPA_OFF = DTRWPO_OFF + 2*NUMTOT)			!732
        PARAMETER(DTRWPR_OFF = DTRWPA_OFF + 2*NUMTOT)			!736
C
	INTEGER*4 DTRCMB_OFF
	PARAMETER(DTRCMB_OFF = DTRWPR_OFF + 2*NUMTOT)
	INTEGER*4 DTRLAT_OFF
	PARAMETER(DTRLAT_OFF = DTRCMB_OFF + 1)
C
	INTEGER*4 DTRFRE_OFF
        PARAMETER(DTRFRE_OFF = DTRLAT_OFF + NUMLAT)

C
C CALCULATE FREE SPACE BASED ON MACHINE DEPENDENT SECTOR SIZES.
C SHOULD ALLWAYS ADD UP TO A EVEN SECTOR SIZE BYTES (VAX 512).
C NOTE! IN CALCULATIONS, FRE_OFF-2 IS DONE TO TAKE CARE OF WHEN THE DATA SIZE
C       ENDS ON A EVEN SECTOR SIZE.
C
        INTEGER*4 DTRSEC_VAX, DTRSEC_NUM
        PARAMETER (DTRSEC_VAX = SECSIZE/4)
	PARAMETER (DTRSEC_NUM = NINT(FLOAT((DTRFRE_OFF-2)/DTRSEC_VAX)+.5))
C
        INTEGER*4 DTRLEN, DTRSEC
        PARAMETER(DTRLEN = DTRSEC_VAX * DTRSEC_NUM)        ! even sector size
        PARAMETER(DTRSEC = DTRLEN/64)
C
        INTEGER*4 DTRREC(DTRLEN)
C
	EQUIVALENCE(DTRSTS,DTRREC(DTRSTS_OFF))
	EQUIVALENCE(DTRWEK,DTRREC(DTRWEK_OFF))
	EQUIVALENCE(DTRDAT,DTRREC(DTRDAT_OFF))
	EQUIVALENCE(DTRDRW,DTRREC(DTRDRW_OFF))
	EQUIVALENCE(DTRBSD,DTRREC(DTRBSD_OFF))
	EQUIVALENCE(DTRESD,DTRREC(DTRESD_OFF))
	EQUIVALENCE(DTRPUP,DTRREC(DTRPUP_OFF))
	EQUIVALENCE(DTRUPD,DTRREC(DTRUPD_OFF))
	EQUIVALENCE(DTRCTM,DTRREC(DTRCTM_OFF))
	EQUIVALENCE(DTRTIM,DTRREC(DTRTIM_OFF))
	EQUIVALENCE(DTRSER,DTRREC(DTRSER_OFF))
	EQUIVALENCE(DTRSAL,DTRREC(DTRSAL_OFF))
	EQUIVALENCE(DTRPAD,DTRREC(DTRPAD_OFF))
	EQUIVALENCE(DTRPRG,DTRREC(DTRPRG_OFF))
	EQUIVALENCE(DTRPRF,DTRREC(DTRPRF_OFF))
	EQUIVALENCE(DTRREF,DTRREC(DTRREF_OFF))
	EQUIVALENCE(DTRERF,DTRREC(DTRERF_OFF))
	EQUIVALENCE(DTRTER,DTRREC(DTRTER_OFF))
	EQUIVALENCE(DTRWON,DTRREC(DTRWON_OFF))
	EQUIVALENCE(DTRPOL,DTRREC(DTRPOL_OFF))
	EQUIVALENCE(DTRTPL,DTRREC(DTRTPL_OFF))
	EQUIVALENCE(DTRTBK,DTRREC(DTRTBK_OFF))
	EQUIVALENCE(DTRBRK,DTRREC(DTRBRK_OFF))
	EQUIVALENCE(DTRABW,DTRREC(DTRABW_OFF))
	EQUIVALENCE(DTRODS,DTRREC(DTRODS_OFF))
	EQUIVALENCE(DTRWIN,DTRREC(DTRWIN_OFF))
	EQUIVALENCE(DTRHLD,DTRREC(DTRHLD_OFF))
	EQUIVALENCE(DTRTAX,DTRREC(DTRTAX_OFF))
	EQUIVALENCE(DTROTX,DTRREC(DTROTX_OFF))
	EQUIVALENCE(DTRMID,DTRREC(DTRMID_OFF))
	EQUIVALENCE(DTRUTX,DTRREC(DTRUTX_OFF))
	EQUIVALENCE(DTRHST,DTRREC(DTRHST_OFF))
	EQUIVALENCE(DTRORM,DTRREC(DTRORM_OFF))
	EQUIVALENCE(DTRMNM,DTRREC(DTRMNM_OFF))
	EQUIVALENCE(DTRENM,DTRREC(DTRENM_OFF))
	EQUIVALENCE(DTRDES,DTRREC(DTRDES_OFF))
	EQUIVALENCE(DTRNMS,DTRREC(DTRNMS_OFF))
	EQUIVALENCE(DTRSTA,DTRREC(DTRSTA_OFF))
	EQUIVALENCE(DTREST,DTRREC(DTREST_OFF))
	EQUIVALENCE(DTREVD,DTRREC(DTREVD_OFF))
	EQUIVALENCE(DTREVT,DTRREC(DTREVT_OFF))
	EQUIVALENCE(DTRSBR,DTRREC(DTRSBR_OFF))
	EQUIVALENCE(DTRREV,DTRREC(DTRREV_OFF))
	EQUIVALENCE(DTRPFN,DTRREC(DTRPFN_OFF))
	EQUIVALENCE(DTRPRC,DTRREC(DTRPRC_OFF))
	EQUIVALENCE(DTRSPR,DTRREC(DTRSPR_OFF))
	EQUIVALENCE(DTRRWS,DTRREC(DTRRWS_OFF))
	EQUIVALENCE(DTRWCP,DTRREC(DTRWCP_OFF))
	EQUIVALENCE(DTRWBT,DTRREC(DTRWBT_OFF))
        EQUIVALENCE(DTRWRO,DTRREC(DTRWRO_OFF))
        EQUIVALENCE(DTRWRA,DTRREC(DTRWRA_OFF))
        EQUIVALENCE(DTRWPO,DTRREC(DTRWPO_OFF))
        EQUIVALENCE(DTRWPA,DTRREC(DTRWPA_OFF))
        EQUIVALENCE(DTRWPR,DTRREC(DTRWPR_OFF))
        EQUIVALENCE(DTRCMB,DTRREC(DTRCMB_OFF))
        EQUIVALENCE(DTRLAT,DTRREC(DTRLAT_OFF))
