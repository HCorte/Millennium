C DCPREC.DEF
C
C V08 30-JUN-2000 UXN DCPLAT added.
C V07 18-MAY-1999 UXN DCPCMB added.
C V06 12-DEC-1995 PXB WBT Redimension
C V05 28-NOV-1995 HXK Batch of changes for Double/Couple release
C V04 23-NOV-1995 PXB Added event status
C V03 10-NOV-1995 HXK Further changes for Double, Couple
C V02 07-NOV-1995 HXK Changes for Double, Couple install
C V01 06-NOV-1995 PXB Initial revision.
C  
C TODAY'S COUPLE GAME DATA FILE RECORD LAYOUT (DISK)
C
C
C
C     DCPSTS                         ; GAME STATUS
C     DCPWEK                         ; WEEK NUMBER
C     DCPDAT                         ; DRAW DATE
C     DCPDRW                         ; DRAW NUMBER
C     DCPBSD                         ; BEGINNING SALES DATE
C     DCPESD                         ; ENDING SALES DATE
C     DCPPUP                         ; LAST PRUGE UPDATE  (FILE ONLY)
C     DCPUPD                         ; LAST FILE UPDATE   (FILE ONLY)
C     DCPCTM                         ; ACTUAL TIME WHEN CLOSED
C     DCPTIM                         ; TIME WHEN GAME SHOULD CLOSE
C     DCPSER                         ; LAST SERIAL NUMBER
C     DCPSAL(NUMTOT)                 ; TOTAL SALES (COUNT , AMOUNT)
C     DCPPAD                         ; PRIZES PAID + REFUNDS
C     DCPPRG                         ; PRIZES PURGED
C     DCPPRF                         ; PAID REFUNDS
C     DCPREF                         ; TOTAL REFUND AMOUNT
C     DCPERF                         ; EARLY REFUNDS PAID
C     DCPTER                         ; TOTAL EARLY REFUNDS (LIAB)
C     DCPWON                         ; PRIZES WON
C     DCPPOL(2)                      ; ROLL POOL
C     DCPTPL                         ; TOTAL PRIZE POOL
C     DCPTBK                         ; TOTAL BREAKAGE
C     DCPBRK(2)                      ; WINNING ROUNDING POT
C     DCPABW                         ; AMOUNT BET ON WINNING SCORE
C     DCPODS(MAXCPLTI)               ; WINNING ODDS
C     DCPWIN(2,MAXCPLTI)             ; WINNING RESULTS
C     DCPHLD(2,MAXCPLTI)             ; WINNING RESULTS HOLD
C     DCPTAX                         ; WINNING TAXES
C     DCPOTX(NUMTOT)                 ; OVER TAX LIMIT
C     DCPMID(NUMTOT)                 ; >REDMIN <REDMAX
C     DCPUTX(NUMTOT)                 ; UNDER TAX LIMIT
C     DCPHST(MAXCPLTI)               ; HIGHEST WINNER PER WINING COMB
C     DCPORM(NUMTOT)                 ; OVER REDMAX
C     DCPENM(CPLENM_LEN/4,2)         ; EVENT NAME 1 (IDX1) EVENT NAME 2 (IDX2)
C     DCPDES(CPLDES_LEN/4,2)         ; GAME DESCRIPTION
C     DCPNMS(CPLNMS_LEN/4,MAXCPLRW)  ; ROW NAMES
C     DCPSTA(MAXCPLRW)               ; ROW STATUS 1 THROUGH MAXTRW
C     DCPEST(2)			     ; EVENT STATUS
C     DCPEVD(2)			     ; EVENT BEGIN DATE
C     DCPETT(2)			     ; EVENT BEGIN TIME
C     DCPSBR(MAXCPLRW)               ; SALES BY ROW TABLE
C     DCPREV                         ; REV #
C     DCPPFN(5)                      ; POOL FILE NAME
C     DCPRTM(MAXCPLRW)               ; ROW CLOSE TIMES
C     DCPPRC                         ; BASE PRICE
C     DCPSPR                         ; POOL PERCENTAGE
C     DCPTVC(CPLTVC_LEN/4)    	     ; TV-CHANEL NAME
C     DCPMDS(MAXMLTD_AVL)	     ; MULTI DRAW SELECTED TABLE
C                                      (52 BYTE / 4 = 13)
C     DCPRWS			     ; ACTUAL # OF ROWS USED.
C     DCPWCP(MAXCPLTI)		     ; # WINNING COUPONS PLAYED
C     DCPWBT(NUMTOT,MAXCPLTI)        ; CNT, AMT WINNERS PLAYED
C     DCPWRO(NUMTOT,2)               ; WINNING: COUNT,AMOUNT REFUNDS ONLY
C     DCPWRA(NUMTOT,2)               ; WINNING: COUNT,AMOUNT REFUNDS ALTOGETHER
C     DCPWPO(NUMTOT,2)               ; WINNING: COUNT,AMOUNT PRIZES ONLY
C     DCPWPA(NUMTOT,2)               ; WINNING: COUNT,AMOUNT PRIZES ALTOGETHER
C     DCPWPR(NUMTOT,2)               ; WINNING: COUNT,AMOUNT PRIZES AND REFUNDS
C                                    ; (1=PRWON,2=PRPAD)
C     DCPODT(MAXCPLRW/2*MAXCPLRW/2)  ; TABLE OF AMTS ON COMBNS FOR ODDS
C     DCPCMB                         ; NUMBER OF WINNING COMBINATIONS
C     DCPLAT(NUMLAT)                 ; EVENT STARTED BEFORE GAME WAS CLOSED
C                                    ; TICKETS PLAYED LATER SHOULD BE REFUNDED.
C     DCPFRS(95)                     ; FREE SPACE
C
C WINNERS GAME FILE PARAMETERS
C
C
C
C+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
C This item is the property of GTECH Corporation, Providence, Rhode
C Island, and contains confidential and trade secret information. It
C may not be transferred from the custody or control of GTECH except
C as authorized in writing by an officer of GTECH. Neither this item
C nor the information it contains may be used, transferred,
C reproduced, published, or disclosed, in whole or in part, and
C directly or indirectly, except as expressly authorized by an
C officer of GTECH, pursuant to written agreement.
C
C Copyright 1996 GTECH Corporation. All rights reserved.
C+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
C
C
	INTEGER*4 DCPSTS,DCPWEK,DCPDAT,DCPBSD,DCPESD,DCPCTM,DCPTIM
	INTEGER*4 DCPSAL(NUMTOT),DCPPAD,DCPPRG,DCPREF,DCPWON,DCPPOL(2),DCPTPL
	INTEGER*4 DCPTBK,DCPBRK(2),DCPABW,DCPODS(MAXCPLTI),DCPWIN(2,MAXCPLTI)
	INTEGER*4 DCPTAX,DCPOTX(NUMTOT),DCPHLD(2,MAXCPLTI)
	INTEGER*4 DCPMID(NUMTOT),DCPUTX(NUMTOT),DCPHST(MAXCPLTI),DCPORM(2)
	INTEGER*4 DCPENM(CPLENM_LEN/4,2)
	INTEGER*4 DCPDES(CPLDES_LEN/4,2)
	INTEGER*4 DCPNMS(CPLNMS_LEN/4,MAXCPLRW)
	INTEGER*4 DCPREV,DCPPUP,DCPUPD,DCPSTA(MAXCPLRW),DCPEST(2)
	INTEGER*4 DCPEVD(2),DCPEVT(2)
	INTEGER*4 DCPSBR(MAXCPLRW),DCPPFN(5),DCPERF,DCPTER,DCPDRW
	INTEGER*4 DCPRTM(MAXCPLRW),DCPSER,DCPPRF,DCPSPR,DCPPRC
	INTEGER*4 DCPTVC(CPLTVC_LEN/4)
C
	BYTE	  DCPMDS(MAXMLTD_AVL)
C
	INTEGER*4 DCPRWS,DCPWCP(MAXCPLTI),DCPWBT(NUMTOT,MAXCPLTI)
        INTEGER*4 DCPWRO(NUMTOT,2),DCPWRA(NUMTOT,2),DCPWPO(NUMTOT,2)
        INTEGER*4 DCPWPA(NUMTOT,2),DCPWPR(NUMTOT,2)
        INTEGER*4 DCPODT(MAXCPLRW/2*MAXCPLRW/2)       
	INTEGER*4 DCPCMB, DCPLAT(NUMLAT)
	INTEGER*4 DCPFRS(95)
C
C OFFSET PARAMETERS AND EQUIVALENCES
C
	INTEGER*4 DCPSTS_OFF, DCPWEK_OFF, DCPDAT_OFF, DCPDRW_OFF
	PARAMETER(DCPSTS_OFF = 1)					!001
	PARAMETER(DCPWEK_OFF = DCPSTS_OFF + 1)				!002
	PARAMETER(DCPDAT_OFF = DCPWEK_OFF + 1)				!003
	PARAMETER(DCPDRW_OFF = DCPDAT_OFF + 1)				!004
C
	INTEGER*4 DCPBSD_OFF, DCPESD_OFF, DCPPUP_OFF, DCPUPD_OFF
	PARAMETER(DCPBSD_OFF = DCPDRW_OFF + 1)				!005
	PARAMETER(DCPESD_OFF = DCPBSD_OFF + 1)				!006
	PARAMETER(DCPPUP_OFF = DCPESD_OFF + 1)				!007
	PARAMETER(DCPUPD_OFF = DCPPUP_OFF + 1)				!008
C
	INTEGER*4 DCPCTM_OFF, DCPTIM_OFF, DCPSER_OFF, DCPSAL_OFF
	PARAMETER(DCPCTM_OFF = DCPUPD_OFF + 1)				!009
	PARAMETER(DCPTIM_OFF = DCPCTM_OFF + 1)				!010
	PARAMETER(DCPSER_OFF = DCPTIM_OFF + 1)				!011
	PARAMETER(DCPSAL_OFF = DCPSER_OFF + 1)			        !012
C
	INTEGER*4 DCPPAD_OFF, DCPPRG_OFF, DCPPRF_OFF, DCPREF_OFF
	PARAMETER(DCPPAD_OFF = DCPSAL_OFF + NUMTOT)	                !014
	PARAMETER(DCPPRG_OFF = DCPPAD_OFF + 1)				!015
	PARAMETER(DCPPRF_OFF = DCPPRG_OFF + 1)				
	PARAMETER(DCPREF_OFF = DCPPRF_OFF + 1)				!017
C
	INTEGER*4 DCPERF_OFF, DCPTER_OFF, DCPWON_OFF, DCPPOL_OFF
	PARAMETER(DCPERF_OFF = DCPREF_OFF + 1)				!018
	PARAMETER(DCPTER_OFF = DCPERF_OFF + 1)				!019
	PARAMETER(DCPWON_OFF = DCPTER_OFF + 1)				!020
	PARAMETER(DCPPOL_OFF = DCPWON_OFF + 1)				!021
C
	INTEGER*4 DCPTPL_OFF, DCPTBK_OFF, DCPBRK_OFF, DCPABW_OFF
	PARAMETER(DCPTPL_OFF = DCPPOL_OFF + 2)				!023
	PARAMETER(DCPTBK_OFF = DCPTPL_OFF + 1)				!024
	PARAMETER(DCPBRK_OFF = DCPTBK_OFF + 1)				!025
	PARAMETER(DCPABW_OFF = DCPBRK_OFF + 2)				!027
C
	INTEGER*4 DCPODS_OFF, DCPWIN_OFF, DCPHLD_OFF, DCPTAX_OFF
	PARAMETER(DCPODS_OFF = DCPABW_OFF + 1)				!028
	PARAMETER(DCPWIN_OFF = DCPODS_OFF + MAXCPLTI)			
	PARAMETER(DCPHLD_OFF = DCPWIN_OFF + 2*MAXCPLTI)			
	PARAMETER(DCPTAX_OFF = DCPHLD_OFF + 2*MAXCPLTI)			

C
	INTEGER*4 DCPOTX_OFF, DCPMID_OFF, DCPUTX_OFF, DCPHST_OFF
	PARAMETER(DCPOTX_OFF = DCPTAX_OFF + 1)				!077
	PARAMETER(DCPMID_OFF = DCPOTX_OFF + NUMTOT)			!079
	PARAMETER(DCPUTX_OFF = DCPMID_OFF + NUMTOT)			!081
	PARAMETER(DCPHST_OFF = DCPUTX_OFF + NUMTOT)			!083
C
	INTEGER*4 DCPORM_OFF, DCPENM_OFF, DCPDES_OFF, DCPNMS_OFF
	PARAMETER(DCPORM_OFF = DCPHST_OFF + MAXCPLTI)
	PARAMETER(DCPENM_OFF = DCPORM_OFF + NUMTOT)			!098
	PARAMETER(DCPDES_OFF = DCPENM_OFF + (CPLENM_LEN/4)*2)		!104
	PARAMETER(DCPNMS_OFF = DCPDES_OFF + (CPLDES_LEN/4)*2)		!134
C
	INTEGER*4 DCPSTA_OFF, DCPSBR_OFF, DCPREV_OFF, DCPPFN_OFF
	INTEGER*4 DCPEST_OFF, DCPEVD_OFF, DCPEVT_OFF
	PARAMETER(DCPSTA_OFF = DCPNMS_OFF + (CPLNMS_LEN/4)*MAXCPLRW)	!278
	PARAMETER(DCPEST_OFF = DCPSTA_OFF + MAXCPLRW)			!314
	PARAMETER(DCPEVD_OFF = DCPEST_OFF + 2)				
	PARAMETER(DCPEVT_OFF = DCPEVD_OFF + 2)				
	PARAMETER(DCPSBR_OFF = DCPEVT_OFF + 2)				
	PARAMETER(DCPREV_OFF = DCPSBR_OFF + MAXCPLRW)			!350
	PARAMETER(DCPPFN_OFF = DCPREV_OFF + 1)				!351
C
	INTEGER*4 DCPRTM_OFF, DCPPRC_OFF, DCPSPR_OFF, DCPTVC_OFF
	PARAMETER(DCPRTM_OFF = DCPPFN_OFF + 5)				!356
	PARAMETER(DCPPRC_OFF = DCPRTM_OFF + MAXCPLRW)			!392
	PARAMETER(DCPSPR_OFF = DCPPRC_OFF + 1)				!393
	PARAMETER(DCPTVC_OFF = DCPSPR_OFF + 1)				!394 
C
	INTEGER*4 DCPMDS_OFF
	PARAMETER(DCPMDS_OFF = DCPTVC_OFF + (CPLTVC_LEN/4))		
C
        INTEGER*4 DCPWRO_OFF, DCPWRA_OFF, DCPWPO_OFF, DCPWPA_OFF
        INTEGER*4 DCPWPR_OFF, DCPRWS_OFF, DCPWCP_OFF, DCPODT_OFF
	INTEGER*4 DCPWBT_OFF
	PARAMETER(DCPRWS_OFF = DCPMDS_OFF + (MAXMLTD_AVL/4))
	PARAMETER(DCPWCP_OFF = DCPRWS_OFF + 1)
	PARAMETER(DCPWBT_OFF = DCPWCP_OFF + MAXCPLTI)
        PARAMETER(DCPWRO_OFF = DCPWBT_OFF + NUMTOT*MAXCPLTI)
        PARAMETER(DCPWRA_OFF = DCPWRO_OFF + 2*NUMTOT)
        PARAMETER(DCPWPO_OFF = DCPWRA_OFF + 2*NUMTOT)
        PARAMETER(DCPWPA_OFF = DCPWPO_OFF + 2*NUMTOT)
        PARAMETER(DCPWPR_OFF = DCPWPA_OFF + 2*NUMTOT) 
        PARAMETER(DCPODT_OFF = DCPWPR_OFF + 2*NUMTOT) 

	INTEGER*4 DCPCMB_OFF,DCPLAT_OFF
	PARAMETER(DCPCMB_OFF = DCPODT_OFF + MAXCPLRW/2*MAXCPLRW/2)
	PARAMETER(DCPLAT_OFF = DCPCMB_OFF + 1)

	INTEGER*4 DCPFRS_OFF
        PARAMETER(DCPFRS_OFF = DCPLAT_OFF + NUMLAT) 


	INTEGER*4 DCPFRE_OFF
	PARAMETER(DCPFRE_OFF = DCPFRS_OFF + 95)
C
C CALCULATE FREE SPACE BASED ON MACHINE DEPENDENT SECTOR SIZES.
C SHOULD ALLWAYS ADD UP TO A EVEN SECTOR SIZE BYTES (VAX 512).
C NOTE! IN CALCULATIONS, FRE_OFF-2 IS DONE TO TAKE CARE OF WHEN THE DATA SIZE
C       ENDS ON A EVEN SECTOR SIZE.
C
        INTEGER*4 DCPSEC_VAX, DCPSEC_NUM
        PARAMETER (DCPSEC_VAX = SECSIZE/4)
	PARAMETER (DCPSEC_NUM = NINT(FLOAT((DCPFRE_OFF-2)/DCPSEC_VAX)+.5))
C
        INTEGER*4 DCPLEN, DCPSEC
        PARAMETER(DCPLEN = DCPSEC_VAX * DCPSEC_NUM)        ! even sector size
        PARAMETER(DCPSEC = DCPLEN/64)
C
        INTEGER*4 DCPREC(DCPLEN)
C
	EQUIVALENCE(DCPSTS,DCPREC(DCPSTS_OFF))
	EQUIVALENCE(DCPWEK,DCPREC(DCPWEK_OFF))
	EQUIVALENCE(DCPDAT,DCPREC(DCPDAT_OFF))
	EQUIVALENCE(DCPDRW,DCPREC(DCPDRW_OFF))
	EQUIVALENCE(DCPBSD,DCPREC(DCPBSD_OFF))
	EQUIVALENCE(DCPESD,DCPREC(DCPESD_OFF))
	EQUIVALENCE(DCPPUP,DCPREC(DCPPUP_OFF))
	EQUIVALENCE(DCPUPD,DCPREC(DCPUPD_OFF))
	EQUIVALENCE(DCPCTM,DCPREC(DCPCTM_OFF))
	EQUIVALENCE(DCPTIM,DCPREC(DCPTIM_OFF))
	EQUIVALENCE(DCPSER,DCPREC(DCPSER_OFF))
	EQUIVALENCE(DCPSAL,DCPREC(DCPSAL_OFF))
	EQUIVALENCE(DCPPAD,DCPREC(DCPPAD_OFF))
	EQUIVALENCE(DCPPRG,DCPREC(DCPPRG_OFF))
	EQUIVALENCE(DCPPRF,DCPREC(DCPPRF_OFF))
	EQUIVALENCE(DCPREF,DCPREC(DCPREF_OFF))
	EQUIVALENCE(DCPERF,DCPREC(DCPERF_OFF))
	EQUIVALENCE(DCPTER,DCPREC(DCPTER_OFF))
	EQUIVALENCE(DCPWON,DCPREC(DCPWON_OFF))
	EQUIVALENCE(DCPPOL,DCPREC(DCPPOL_OFF))
	EQUIVALENCE(DCPTPL,DCPREC(DCPTPL_OFF))
	EQUIVALENCE(DCPTBK,DCPREC(DCPTBK_OFF))
	EQUIVALENCE(DCPBRK,DCPREC(DCPBRK_OFF))
	EQUIVALENCE(DCPABW,DCPREC(DCPABW_OFF))
	EQUIVALENCE(DCPODS,DCPREC(DCPODS_OFF))
	EQUIVALENCE(DCPWIN,DCPREC(DCPWIN_OFF))
	EQUIVALENCE(DCPHLD,DCPREC(DCPHLD_OFF))
	EQUIVALENCE(DCPTAX,DCPREC(DCPTAX_OFF))
	EQUIVALENCE(DCPOTX,DCPREC(DCPOTX_OFF))
	EQUIVALENCE(DCPMID,DCPREC(DCPMID_OFF))
	EQUIVALENCE(DCPUTX,DCPREC(DCPUTX_OFF))
	EQUIVALENCE(DCPHST,DCPREC(DCPHST_OFF))
	EQUIVALENCE(DCPORM,DCPREC(DCPORM_OFF))
	EQUIVALENCE(DCPENM,DCPREC(DCPENM_OFF))
	EQUIVALENCE(DCPDES,DCPREC(DCPDES_OFF))
	EQUIVALENCE(DCPNMS,DCPREC(DCPNMS_OFF))
	EQUIVALENCE(DCPSTA,DCPREC(DCPSTA_OFF))
	EQUIVALENCE(DCPEST,DCPREC(DCPEST_OFF))
	EQUIVALENCE(DCPEVD,DCPREC(DCPEVD_OFF))
	EQUIVALENCE(DCPEVT,DCPREC(DCPEVT_OFF))
	EQUIVALENCE(DCPSBR,DCPREC(DCPSBR_OFF))
	EQUIVALENCE(DCPREV,DCPREC(DCPREV_OFF))
	EQUIVALENCE(DCPPFN,DCPREC(DCPPFN_OFF))
	EQUIVALENCE(DCPRTM,DCPREC(DCPRTM_OFF))
	EQUIVALENCE(DCPPRC,DCPREC(DCPPRC_OFF))
	EQUIVALENCE(DCPSPR,DCPREC(DCPSPR_OFF))
	EQUIVALENCE(DCPTVC,DCPREC(DCPTVC_OFF))
	EQUIVALENCE(DCPMDS,DCPREC(DCPMDS_OFF))
	EQUIVALENCE(DCPRWS,DCPREC(DCPRWS_OFF))
	EQUIVALENCE(DCPWCP,DCPREC(DCPWCP_OFF))
	EQUIVALENCE(DCPWBT,DCPREC(DCPWBT_OFF))
        EQUIVALENCE(DCPWRO,DCPREC(DCPWRO_OFF))
        EQUIVALENCE(DCPWRA,DCPREC(DCPWRA_OFF))
        EQUIVALENCE(DCPWPO,DCPREC(DCPWPO_OFF))
        EQUIVALENCE(DCPWPA,DCPREC(DCPWPA_OFF))
        EQUIVALENCE(DCPWPR,DCPREC(DCPWPR_OFF))
        EQUIVALENCE(DCPODT,DCPREC(DCPODT_OFF))
        EQUIVALENCE(DCPCMB,DCPREC(DCPCMB_OFF))
        EQUIVALENCE(DCPLAT,DCPREC(DCPLAT_OFF))
        EQUIVALENCE(DCPFRS,DCPREC(DCPFRS_OFF))
