C TSLCOM.DEF
C
C V12 24-NOV-97 UXN TSLROWTYP ADDED.
C
C $Log:   GXAFXT:[GOLS]TSLCOM.DEV  $
C  
C     Rev 1.0   17 Apr 1996 15:37:50   HXK
C  Release of Finland for X.25, Telephone Betting, Instant Pass Thru Phase 1
C  
C     Rev 1.7   25 Feb 1994 18:48:48   HXK
C  PITKA LIABILITY LIMITATIONS CHANGE.
C  
C     Rev 1.7   17 Feb 1994 17:58:56   JXP
C  Introduce tslwtop array
C  
C     Rev 1.6   19 Dec 1993  0:01:20   HXK
C  ADDED FIELDS FOR COUNTS AND AMOUNTS FOR PRIZES/REFUNDS WON AND PAID.
C  
C     Rev 1.5   18 Oct 1993 23:14:28   GXA
C  Expanded TSLSBD to hold count and amount.
C  
C     Rev 1.4   24 Sep 1993 23:06:38   GXA
C  Expanded TSLWBD, TSLRBD, TSLPBD to hold counts and amount.
C  
C     Rev 1.3   06 Sep 1993 21:35:28   GXA
C  Increased TV-names to be for all rows. Corrected declaration of TSLNMS.
C  
C     Rev 1.2   17 Jun 1993 14:56:06   GXA
C  Added Multi-Draw Selected table.
C  (Parameterized common layout and space calculations).
C  
C     Rev 1.1   10 Jun 1993 22:17:08   GXA
C  Released for Finland Dec Conversion / Oddset.
C  
C     Rev 1.0   21 Jan 1993 18:54:20   DAB
C  Initial Release
C  Based on Netherlands Bible, 12/92, and Comm 1/93 update
C  DEC Baseline
C
C V03 02-SEP-92 GCAN ADDED EVENT DRAW DATE FOR POSTPONED WINNER SELECTION.
C V02 07-OCT-91 MTK  INITAL RELEASE FOR NETHERLANDS
C V01 01-AUG-90 XXX  RELEASED FOR VAX
C
C TOTO SELECT GAME AND POOL COMMONS
C
C
C GAME VARIABLE ARRAYS
C
C     TSLSTS(NUMTSL)                    ; GAME STATUS
C     TSLWEK(NUMTSL)                    ; WEEK NUMBER
C     TSLDAT(MAXSRW,NUMTSL)             ; DRAW DATE
C     TSLDRW(NUMTSL)                    ; DRAW NUMBER
C     TSLBSD(NUMTSL)                    ; BEGINNING SALES DATE
C     TSLESD(NUMTSL)                    ; ENDING SALES DATE
C     TSLPUP(NUMTSL)                    ; LAST PURGE UPDATE   (FILE ONLY)
C     TSLUPD(NUMTSL)                    ; LAST FILE UPDATE    (FILE ONLY)
C     TSLCTM(MAXSRW,NUMTSL)             ; ACTUAL TIME WHEN CLOSED
C     TSLTIM(MAXSRW,NUMTSL)             ; TIME WHEN GAME SHOULD CLOSE
C     TSLBRK(NUMTSL)                    ; BREAKAGE AMOUNT
C     TSLSAL(NUMTSL)                    ; TOTAL SALES
C     TSLPAD(NUMTSL)                    ; PRIZES PAID + REFUNDS
C     TSLPRG(NUMTSL)                    ; PRIZES PURGED
C     TSLPRF(NUMTSL)                    ; PAID REFUNDS
C     TSLREF(NUMTSL)                    ; TOTAL REFUND AMOUNT
C     TSLWON(NUMTSL)                    ; PRIZES WON
C     TSLWBD(TSLDIV,NUMTOT,NUMTSL)      ; WON BY DIVISION COUNT, AMOUNT
C     TSLRBD(TSLDIV,NUMTOT,NUMTSL)      ; REFUNDS BY DIVISION COUNT,AMOUNT
C     TSLPBD(TSLDIV,NUMTOT,NUMTSL)      ; PAID BY DIVISION COUNT,AMOUNT
C     TSLTBD(TSLDIV,NUMTSL)             ; WINNING TAX BY DIVISION
C     TSLSBD(TSLDIV,NUMTOT,NUMTSL)      ; SALES BY DIVISION COUNT,AMOUNT
C     TSLODS(3,MAXSRW,NUMTSL)           ; ODDS BY ROW (1,X,2)
C     TSLWIN(MAXSRW,NUMTSL)             ; WINNING RESULTS
C     TSLHLD(MAXSRW,NUMTSL)             ; RESULTS HOLD
C     TSLTAX(NUMTSL)                    ; WINNING TAXES
C     TSLOTX(NUMTOT,NUMTSL)             ; OVER TAX LIMIT
C     TSLMID(NUMTOT,NUMTSL)             ; >REDMIN <REDMAX
C     TSLUTX(NUMTOT,NUMTSL)             ; UNDER TAX LIMIT
C     TSLHST(NUMTSL)                    ; HIGHEST WINNER FOR THIS GAME
C     TSLORM(NUMTOT,NUMTSL)             ; OVER REDMAX
C     TSLNMS(TNMS_LEN/4,2,MAXSRW,NUMTSL); TEAM NAMES (HOME,AWAY)
C     TSLSTA(MAXSRW,NUMTSL)             ; ROW STATUS
C     TSLREV(NUMTSL)                    ; REV #
C     TSLPFN(5,NUMTSL)                  ; POOL FILE NAME
C     TSLTOP(2,30,NUMTSL)               ; TOP 30 COMBINATIONS
C     TSLRWS(NUMTSL)                    ; ACTUAL NUMBER OF ROWS USED
C     TSLCMB(NUMTSL)                    ; NUMBER OF PLAYED COMB. TODAY
C     TSLPRC(NUMTSL)                    ; BASE PRICE
C     TSLDTE(NUMTSL)                    ; EVENT DRAW DATE
C     TSLTVC(TTVC_LEN/4,MAXSRW,NUMTSL)  ; TV-CHANEL NAME
C     TSLMDS(MAXMLTD_AVL,NUMTSL)        ; MULTI DRAW SELECTED TABLE
C                                         (52 BYTE / 4 = 13)
C     TSLROWTYP(MAXSRW,NUMTSL)          ; 1-SINGLE,2-DOUBLE,3-REGULAR
C     TSLFRE(CALCULATED)                ; FREE SPACE
C
C
C TOTO SELECT POOL ARRAYS
C
C     TSPCDC(NUMTSL)                    ; LAST CDC DAY FILE WAS UPDATED
C     TSPDRW(NUMTSL)                    ; DRAW # OF POOL FILE
C     TSPBEG(NUMTSL)                    ; BEGINNING SALES DATE
C     TSPEND(NUMTSL)                    ; ENDING SALES DATE
C     TSPLOK(MAXSRW,3,NUMTSL)           ; LOCK FLAGS BY ROW BY 1 X 2
C     TSPPOL(NUMTOT,MAXSRW,3,NUMTSL)    ; POOL CNT,AMT BY ROWS BY 1 X 2
C     TSPATL(ATSNPA,ATSTOP,ATSAGT,NUMTSL); TOP 5 COMBINATIONS
C     TSPWTL(ATSNPA,ATSTOP,ATSAGT,NUMTSL); TOP 5 WIN LIABILITIES
C
C
C
C+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
C This item is the property of GTECH Corporation, Providence, Rhode
C Island, and contains confidential and trade secret information. It
C may not be transferred from the custody or control of GTECH except
C as authorized in writing by an officer of GTECH. Neither this item
C nor the information it contains may be used, transferred,
C reproduced, published, or disclosed, in whole or in part, and
C directly or indirectly, except as expressly authorized by an
C officer of GTECH, pursuant to written agreement.
C
C Copyright 1990 GTECH Corporation. All rights reserved.
C+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
C
C
        INTEGER*4 TSLSTS_OFF, TSLWEK_OFF, TSLDAT_OFF, TSLDRW_OFF
        INTEGER*4 TSLBSD_OFF, TSLESD_OFF, TSLPUP_OFF, TSLUPD_OFF
        INTEGER*4 TSLCTM_OFF, TSLTIM_OFF, TSLBRK_OFF, TSLSAL_OFF
        PARAMETER(TSLSTS_OFF=1)
        PARAMETER(TSLWEK_OFF=TSLSTS_OFF+NUMTSL)
        PARAMETER(TSLDAT_OFF=TSLWEK_OFF+NUMTSL)
        PARAMETER(TSLDRW_OFF=TSLDAT_OFF+MAXSRW*NUMTSL)
        PARAMETER(TSLBSD_OFF=TSLDRW_OFF+NUMTSL)
        PARAMETER(TSLESD_OFF=TSLBSD_OFF+NUMTSL)
        PARAMETER(TSLPUP_OFF=TSLESD_OFF+NUMTSL)
        PARAMETER(TSLUPD_OFF=TSLPUP_OFF+NUMTSL)
        PARAMETER(TSLCTM_OFF=TSLUPD_OFF+NUMTSL)
        PARAMETER(TSLTIM_OFF=TSLCTM_OFF+MAXSRW*NUMTSL)
        PARAMETER(TSLBRK_OFF=TSLTIM_OFF+MAXSRW*NUMTSL)
        PARAMETER(TSLSAL_OFF=TSLBRK_OFF+NUMTSL)
C
        INTEGER*4 TSLPAD_OFF, TSLPRG_OFF, TSLPRF_OFF, TSLREF_OFF
        INTEGER*4 TSLWON_OFF, TSLWBD_OFF, TSLRBD_OFF, TSLPBD_OFF
        INTEGER*4 TSLTBD_OFF, TSLSBD_OFF, TSLODS_OFF, TSLWIN_OFF
        PARAMETER(TSLPAD_OFF=TSLSAL_OFF+NUMTSL)
        PARAMETER(TSLPRG_OFF=TSLPAD_OFF+NUMTSL)
        PARAMETER(TSLPRF_OFF=TSLPRG_OFF+NUMTSL)
        PARAMETER(TSLREF_OFF=TSLPRF_OFF+NUMTSL)
        PARAMETER(TSLWON_OFF=TSLREF_OFF+NUMTSL)
        PARAMETER(TSLWBD_OFF=TSLWON_OFF+NUMTSL)
        PARAMETER(TSLRBD_OFF=TSLWBD_OFF+TSLDIV*NUMTOT*NUMTSL)
        PARAMETER(TSLPBD_OFF=TSLRBD_OFF+TSLDIV*NUMTOT*NUMTSL)
        PARAMETER(TSLTBD_OFF=TSLPBD_OFF+TSLDIV*NUMTOT*NUMTSL)
        PARAMETER(TSLSBD_OFF=TSLTBD_OFF+TSLDIV*NUMTSL)
        PARAMETER(TSLODS_OFF=TSLSBD_OFF+TSLDIV*NUMTOT*NUMTSL)
        PARAMETER(TSLWIN_OFF=TSLODS_OFF+MAXSRW*3*NUMTSL)
C
        INTEGER*4 TSLHLD_OFF, TSLTAX_OFF, TSLOTX_OFF, TSLMID_OFF
        INTEGER*4 TSLUTX_OFF, TSLHST_OFF, TSLORM_OFF, TSLNMS_OFF
        INTEGER*4 TSLSTA_OFF, TSLREV_OFF, TSLPFN_OFF, TSLTOP_OFF, TSLWTOP_OFF
        PARAMETER(TSLHLD_OFF=TSLWIN_OFF+MAXSRW*NUMTSL)
        PARAMETER(TSLTAX_OFF=TSLHLD_OFF+MAXSRW*NUMTSL)
        PARAMETER(TSLOTX_OFF=TSLTAX_OFF+NUMTSL)
        PARAMETER(TSLMID_OFF=TSLOTX_OFF+NUMTOT*NUMTSL)
        PARAMETER(TSLUTX_OFF=TSLMID_OFF+NUMTOT*NUMTSL)
        PARAMETER(TSLHST_OFF=TSLUTX_OFF+NUMTOT*NUMTSL)
        PARAMETER(TSLORM_OFF=TSLHST_OFF+NUMTSL)
        PARAMETER(TSLNMS_OFF=TSLORM_OFF+NUMTOT*NUMTSL)
        PARAMETER(TSLSTA_OFF=TSLNMS_OFF+(TNMS_LEN/4)*2*MAXSRW*NUMTSL)
        PARAMETER(TSLREV_OFF=TSLSTA_OFF+MAXSRW*NUMTSL)
        PARAMETER(TSLPFN_OFF=TSLREV_OFF+NUMTSL)
        PARAMETER(TSLTOP_OFF=TSLPFN_OFF+5*NUMTSL)
C
        INTEGER*4 TSLRWS_OFF, TSLCMB_OFF, TSLPRC_OFF  
        INTEGER*4 TSLDTE_OFF, TSLTVC_OFF, TSLMDS_OFF
        PARAMETER(TSLRWS_OFF = TSLTOP_OFF+2*30*NUMTSL)
        PARAMETER(TSLCMB_OFF = TSLRWS_OFF+NUMTSL)
        PARAMETER(TSLPRC_OFF = TSLCMB_OFF+NUMTSL)
        PARAMETER(TSLDTE_OFF = TSLPRC_OFF+NUMTSL)
        PARAMETER(TSLTVC_OFF = TSLDTE_OFF + NUMTSL)
        PARAMETER(TSLMDS_OFF = TSLTVC_OFF + (TTVC_LEN/4)*MAXSRW*NUMTSL)

        PARAMETER(TSLWTOP_OFF = TSLMDS_OFF+ (MAXMLTD_AVL/4)*NUMTSL)
C       
        INTEGER*4 TSLROWTYP_OFF
        PARAMETER (TSLROWTYP_OFF = TSLWTOP_OFF +2*100*NUMTSL)
C
        INTEGER*4 TSLFRE_OFF
        PARAMETER(TSLFRE_OFF = TSLROWTYP_OFF + MAXSRW/4*NUMTSL)

C 
        INTEGER*4 TSLSEC_SIZE, TSLSEC_NUM, TSLLEN
        PARAMETER(TSLSEC_SIZE = 2048)
        PARAMETER(TSLSEC_NUM = NINT(FLOAT((TSLFRE_OFF-2)/
     *                         TSLSEC_SIZE)+.5))
        PARAMETER(TSLLEN = TSLSEC_SIZE * TSLSEC_NUM)
C
        COMMON /TSLCOM/
     *   TSLSTS(NUMTSL),
     *   TSLWEK(NUMTSL),
     *   TSLDAT(MAXSRW,NUMTSL),
     *   TSLDRW(NUMTSL),
     *   TSLBSD(NUMTSL),
     *   TSLESD(NUMTSL),
     *   TSLPUP(NUMTSL),
     *   TSLUPD(NUMTSL),
     *   TSLCTM(MAXSRW,NUMTSL),
     *   TSLTIM(MAXSRW,NUMTSL),
     *   TSLBRK(NUMTSL)
        COMMON /TSLCOM/
     *   TSLSAL(NUMTSL),
     *   TSLPAD(NUMTSL),
     *   TSLPRG(NUMTSL),
     *   TSLPRF(NUMTSL),
     *   TSLREF(NUMTSL),
     *   TSLWON(NUMTSL),
     *   TSLWBD(TSLDIV,NUMTOT,NUMTSL),
     *   TSLRBD(TSLDIV,NUMTOT,NUMTSL),
     *   TSLPBD(TSLDIV,NUMTOT,NUMTSL),
     *   TSLTBD(TSLDIV,NUMTSL)
        COMMON /TSLCOM/
     *   TSLSBD(TSLDIV,NUMTOT,NUMTSL),
     *   TSLODS(3,MAXSRW,NUMTSL),
     *   TSLWIN(MAXSRW,NUMTSL),
     *   TSLHLD(MAXSRW,NUMTSL),
     *   TSLTAX(NUMTSL),
     *   TSLOTX(NUMTOT,NUMTSL),
     *   TSLMID(NUMTOT,NUMTSL),
     *   TSLUTX(NUMTOT,NUMTSL),
     *   TSLHST(NUMTSL),
     *   TSLORM(NUMTOT,NUMTSL)
        COMMON /TSLCOM/
     *   TSLNMS(TNMS_LEN/4,2,MAXSRW,NUMTSL),
     *   TSLSTA(MAXSRW,NUMTSL),
     *   TSLREV(NUMTSL),
     *   TSLPFN(5,NUMTSL),
     *   TSLTOP(2,30,NUMTSL),
     *   TSLRWS(NUMTSL),
     *   TSLCMB(NUMTSL),
     *   TSLPRC(NUMTSL),
     *   TSLDTE(NUMTSL),
     *   TSLTVC(TTVC_LEN/4,MAXSRW,NUMTSL),
     *   TSLMDS(MAXMLTD_AVL,NUMTSL),
     *   TSLWTOP(2,100,NUMTSL),
     *   TSLROWTYP(MAXSRW,NUMTSL),
     *   TSLFRE(TSLLEN - TSLFRE_OFF + 1)
C
        COMMON /TSLCOM/
     *   TSPCDC(NUMTSL),
     *   TSPDRW(NUMTSL),
     *   TSPBEG(NUMTSL),
     *   TSPEND(NUMTSL),
     *   TSPLOK(MAXSRW,3,NUMTSL),
     *   TSPPOL(NUMTOT,MAXSRW,3,NUMTSL),
     *   TSPATL(ATSNPA,ATSTOP,ATSAGT,NUMTSL),
     *   TSPWTL(ATSNPA,ATSTOP,ATSAGT,NUMTSL)
C
        INTEGER*4 TSLSTS,TSLWEK,TSLDAT,TSLBSD
        INTEGER*4 TSLESD,TSLPUP,TSLUPD,TSLCTM
        INTEGER*4 TSLTIM,TSLBRK,TSLSAL,TSLPAD
        INTEGER*4 TSLPRG,TSLPRF,TSLREF,TSLWON
        INTEGER*4 TSLWBD,TSLRBD,TSLPBD,TSLTBD
        INTEGER*4 TSLSBD,TSLODS,TSLWIN,TSLHLD
        INTEGER*4 TSLTAX,TSLOTX,TSLMID,TSLUTX
        INTEGER*4 TSLHST,TSLORM,TSLNMS,TSLSTA
        INTEGER*4 TSLREV,TSLPFN,TSLTOP,TSLRWS
        INTEGER*4 TSLCMB,TSLFRE,TSLDRW,TSLPRC
        INTEGER*4 TSLDTE,TSLTVC,TSLWTOP
C
        BYTE      TSLMDS
        BYTE      TSLROWTYP
C
        INTEGER*4 TSPCDC,TSPDRW,TSPBEG,TSPEND
        INTEGER*4 TSPLOK,TSPPOL,TSPATL,TSPWTL
        INTEGER*4 TSPPOL_LEN, TSPSEC_NUM
        PARAMETER (TSPPOL_LEN = NUMTSL + NUMTSL + NUMTSL + NUMTSL +
     *                          MAXSRW*3*NUMTSL                   +
     *                          NUMTOT*MAXSRW*3*NUMTSL            +
     *                          ATSNPA*ATSTOP*ATSAGT*NUMTSL       +
     *                          ATSNPA*ATSTOP*ATSAGT*NUMTSL)
        PARAMETER (TSPSEC_NUM = NINT(FLOAT((TSPPOL_LEN-1)/
     *                          TSLSEC_SIZE)+.5))
C
C EQUIVALENCE FOR CHECKPOINT
C
        INTEGER*4 TSLCSB,TSLBLK
        PARAMETER(TSLCSB = TSLSEC_NUM + TSPSEC_NUM)! NUMBER OF TSLCOM 2048 BLOCKS
        DIMENSION TSLBLK(2048,TSLCSB)
        EQUIVALENCE(TSLBLK(1),TSLSTS(1))
C
        VOLATILE /TSLCOM/
C
        INTEGER*4        FRST_TSLCOM(2)
        EQUIVALENCE     (FRST_TSLCOM, TSLBLK(1,1))
        INTEGER*4        LAST_TSLCOM
        EQUIVALENCE     (LAST_TSLCOM, TSLBLK(2048,TSLCSB))

